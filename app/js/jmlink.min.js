! function (e) {
    var t = {};

    function n(o) {
        if (t[o]) return t[o].exports;
        var i = t[o] = {
            i: o,
            l: !1,
            exports: {}
        };
        return e[o].call(i.exports, i, i.exports, n), i.l = !0, i.exports
    }
    n.m = e, n.c = t, n.d = function (e, t, o) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: o
        })
    }, n.r = function (e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function (e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var o = Object.create(null);
        if (n.r(o), Object.defineProperty(o, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var i in e) n.d(o, i, function (t) {
                return e[t]
            }.bind(null, i));
        return o
    }, n.n = function (e) {
        var t = e && e.__esModule ? function () {
            return e.default
        } : function () {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function (e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 9)
}([function (e, t) {
    e.exports = function (e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
}, function (e, t) {
    function n(e, t) {
        for (var n = 0; n < t.length; n++) {
            var o = t[n];
            o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
        }
    }
    e.exports = function (e, t, o) {
        return t && n(e.prototype, t), o && n(e, o), e
    }
}, function (e, t, n) {
    (function (t, n) {
        /*!
         * @overview es6-promise - a tiny implementation of Promises/A+.
         * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
         * @license   Licensed under MIT license
         *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
         * @version   v4.2.8+1e68dce6
         */
        var o;
        o = function () {
            "use strict";

            function e(e) {
                return "function" == typeof e
            }
            var o = Array.isArray ? Array.isArray : function (e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                },
                i = 0,
                r = void 0,
                a = void 0,
                s = function (e, t) {
                    f[i] = e, f[i + 1] = t, 2 === (i += 2) && (a ? a(m) : b())
                },
                u = "undefined" != typeof window ? window : void 0,
                c = u || {},
                l = c.MutationObserver || c.WebKitMutationObserver,
                d = "undefined" == typeof self && void 0 !== t && "[object process]" === {}.toString.call(t),
                h = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;

            function p() {
                var e = setTimeout;
                return function () {
                    return e(m, 1)
                }
            }
            var f = new Array(1e3);

            function m() {
                for (var e = 0; e < i; e += 2)(0, f[e])(f[e + 1]), f[e] = void 0, f[e + 1] = void 0;
                i = 0
            }
            var v, g, w, y, b = void 0;

            function k(e, t) {
                var n = this,
                    o = new this.constructor(T);
                void 0 === o[A] && N(o);
                var i = n._state;
                if (i) {
                    var r = arguments[i - 1];
                    s((function () {
                        return U(i, o, r, n._result)
                    }))
                } else j(n, o, e, t);
                return o
            }

            function _(e) {
                if (e && "object" == typeof e && e.constructor === this) return e;
                var t = new this(T);
                return x(t, e), t
            }
            d ? b = function () {
                return t.nextTick(m)
            } : l ? (g = 0, w = new l(m), y = document.createTextNode(""), w.observe(y, {
                characterData: !0
            }), b = function () {
                y.data = g = ++g % 2
            }) : h ? ((v = new MessageChannel).port1.onmessage = m, b = function () {
                return v.port2.postMessage(0)
            }) : b = void 0 === u ? function () {
                try {
                    var e = Function("return this")().require("vertx");
                    return void 0 !== (r = e.runOnLoop || e.runOnContext) ? function () {
                        r(m)
                    } : p()
                } catch (e) {
                    return p()
                }
            }() : p();
            var A = Math.random().toString(36).substring(2);

            function T() {}
            var C = void 0,
                S = 1,
                E = 2;

            function P(t, n, o) {
                n.constructor === t.constructor && o === k && n.constructor.resolve === _ ? function (e, t) {
                    t._state === S ? L(e, t._result) : t._state === E ? D(e, t._result) : j(t, void 0, (function (t) {
                        return x(e, t)
                    }), (function (t) {
                        return D(e, t)
                    }))
                }(t, n) : void 0 === o ? L(t, n) : e(o) ? function (e, t, n) {
                    s((function (e) {
                        var o = !1,
                            i = function (e, t, n, o) {
                                try {
                                    e.call(t, n, o)
                                } catch (e) {
                                    return e
                                }
                            }(n, t, (function (n) {
                                o || (o = !0, t !== n ? x(e, n) : L(e, n))
                            }), (function (t) {
                                o || (o = !0, D(e, t))
                            }), e._label);
                        !o && i && (o = !0, D(e, i))
                    }), e)
                }(t, n, o) : L(t, n)
            }

            function x(e, t) {
                if (e === t) D(e, new TypeError("You cannot resolve a promise with itself"));
                else if (i = typeof (o = t), null === o || "object" !== i && "function" !== i) L(e, t);
                else {
                    var n = void 0;
                    try {
                        n = t.then
                    } catch (t) {
                        return void D(e, t)
                    }
                    P(e, t, n)
                }
                var o, i
            }

            function I(e) {
                e._onerror && e._onerror(e._result), R(e)
            }

            function L(e, t) {
                e._state === C && (e._result = t, e._state = S, 0 !== e._subscribers.length && s(R, e))
            }

            function D(e, t) {
                e._state === C && (e._state = E, e._result = t, s(I, e))
            }

            function j(e, t, n, o) {
                var i = e._subscribers,
                    r = i.length;
                e._onerror = null, i[r] = t, i[r + S] = n, i[r + E] = o, 0 === r && e._state && s(R, e)
            }

            function R(e) {
                var t = e._subscribers,
                    n = e._state;
                if (0 !== t.length) {
                    for (var o = void 0, i = void 0, r = e._result, a = 0; a < t.length; a += 3) o = t[a], i = t[a + n], o ? U(n, o, i, r) : i(r);
                    e._subscribers.length = 0
                }
            }

            function U(t, n, o, i) {
                var r = e(o),
                    a = void 0,
                    s = void 0,
                    u = !0;
                if (r) {
                    try {
                        a = o(i)
                    } catch (e) {
                        u = !1, s = e
                    }
                    if (n === a) return void D(n, new TypeError("A promises callback cannot return that same promise."))
                } else a = i;
                n._state !== C || (r && u ? x(n, a) : !1 === u ? D(n, s) : t === S ? L(n, a) : t === E && D(n, a))
            }
            var O = 0;

            function N(e) {
                e[A] = O++, e._state = void 0, e._result = void 0, e._subscribers = []
            }
            var M = function () {
                    function e(e, t) {
                        this._instanceConstructor = e, this.promise = new e(T), this.promise[A] || N(this.promise), o(t) ? (this.length = t.length, this._remaining = t.length, this._result = new Array(this.length), 0 === this.length ? L(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(t), 0 === this._remaining && L(this.promise, this._result))) : D(this.promise, new Error("Array Methods must be provided an Array"))
                    }
                    return e.prototype._enumerate = function (e) {
                        for (var t = 0; this._state === C && t < e.length; t++) this._eachEntry(e[t], t)
                    }, e.prototype._eachEntry = function (e, t) {
                        var n = this._instanceConstructor,
                            o = n.resolve;
                        if (o === _) {
                            var i = void 0,
                                r = void 0,
                                a = !1;
                            try {
                                i = e.then
                            } catch (e) {
                                a = !0, r = e
                            }
                            if (i === k && e._state !== C) this._settledAt(e._state, t, e._result);
                            else if ("function" != typeof i) this._remaining--, this._result[t] = e;
                            else if (n === B) {
                                var s = new n(T);
                                a ? D(s, r) : P(s, e, i), this._willSettleAt(s, t)
                            } else this._willSettleAt(new n((function (t) {
                                return t(e)
                            })), t)
                        } else this._willSettleAt(o(e), t)
                    }, e.prototype._settledAt = function (e, t, n) {
                        var o = this.promise;
                        o._state === C && (this._remaining--, e === E ? D(o, n) : this._result[t] = n), 0 === this._remaining && L(o, this._result)
                    }, e.prototype._willSettleAt = function (e, t) {
                        var n = this;
                        j(e, void 0, (function (e) {
                            return n._settledAt(S, t, e)
                        }), (function (e) {
                            return n._settledAt(E, t, e)
                        }))
                    }, e
                }(),
                B = function () {
                    function t(e) {
                        this[A] = O++, this._result = this._state = void 0, this._subscribers = [], T !== e && ("function" != typeof e && function () {
                            throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                        }(), this instanceof t ? function (e, t) {
                            try {
                                t((function (t) {
                                    x(e, t)
                                }), (function (t) {
                                    D(e, t)
                                }))
                            } catch (t) {
                                D(e, t)
                            }
                        }(this, e) : function () {
                            throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                        }())
                    }
                    return t.prototype.catch = function (e) {
                        return this.then(null, e)
                    }, t.prototype.finally = function (t) {
                        var n = this.constructor;
                        return e(t) ? this.then((function (e) {
                            return n.resolve(t()).then((function () {
                                return e
                            }))
                        }), (function (e) {
                            return n.resolve(t()).then((function () {
                                throw e
                            }))
                        })) : this.then(t, t)
                    }, t
                }();
            return B.prototype.then = k, B.all = function (e) {
                return new M(this, e).promise
            }, B.race = function (e) {
                var t = this;
                return o(e) ? new t((function (n, o) {
                    for (var i = e.length, r = 0; r < i; r++) t.resolve(e[r]).then(n, o)
                })) : new t((function (e, t) {
                    return t(new TypeError("You must pass an array to race."))
                }))
            }, B.resolve = _, B.reject = function (e) {
                var t = new this(T);
                return D(t, e), t
            }, B._setScheduler = function (e) {
                a = e
            }, B._setAsap = function (e) {
                s = e
            }, B._asap = s, B.polyfill = function () {
                var e = void 0;
                if (void 0 !== n) e = n;
                else if ("undefined" != typeof self) e = self;
                else try {
                    e = Function("return this")()
                } catch (e) {
                    throw new Error("polyfill failed because global object is unavailable in this environment")
                }
                var t = e.Promise;
                if (t) {
                    var o = null;
                    try {
                        o = Object.prototype.toString.call(t.resolve())
                    } catch (e) {}
                    if ("[object Promise]" === o && !t.cast) return
                }
                e.Promise = B
            }, B.Promise = B, B
        }, e.exports = o()
    }).call(this, n(5), n(6))
}, function (e, t, n) {
    var o, i;
    ! function (r, a, s) {
        "use strict";
        "undefined" != typeof window && n(8) ? void 0 === (i = "function" == typeof (o = s) ? o.call(t, n, t, e) : o) || (e.exports = i) : e.exports ? e.exports = s() : a.exports ? a.exports = s() : a.Fingerprint2 = s()
    }(0, this, (function () {
        "use strict";
        var e = function (e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var n = [0, 0, 0, 0];
                return n[3] += e[3] + t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += e[2] + t[2], n[1] += n[2] >>> 16, n[2] &= 65535, n[1] += e[1] + t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += e[0] + t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]]
            },
            t = function (e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var n = [0, 0, 0, 0];
                return n[3] += e[3] * t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += e[2] * t[3], n[1] += n[2] >>> 16, n[2] &= 65535, n[2] += e[3] * t[2], n[1] += n[2] >>> 16, n[2] &= 65535, n[1] += e[1] * t[3], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[2] * t[2], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[3] * t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]]
            },
            n = function (e, t) {
                return 32 === (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
            },
            o = function (e, t) {
                return 0 === (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
            },
            i = function (e, t) {
                return [e[0] ^ t[0], e[1] ^ t[1]]
            },
            r = function (e) {
                return e = i(e, [0, e[0] >>> 1]), e = t(e, [4283543511, 3981806797]), e = i(e, [0, e[0] >>> 1]), e = t(e, [3301882366, 444984403]), e = i(e, [0, e[0] >>> 1])
            },
            a = function (a, s) {
                s = s || 0;
                for (var u = (a = a || "").length % 16, c = a.length - u, l = [0, s], d = [0, s], h = [0, 0], p = [0, 0], f = [2277735313, 289559509], m = [1291169091, 658871167], v = 0; v < c; v += 16) h = [255 & a.charCodeAt(v + 4) | (255 & a.charCodeAt(v + 5)) << 8 | (255 & a.charCodeAt(v + 6)) << 16 | (255 & a.charCodeAt(v + 7)) << 24, 255 & a.charCodeAt(v) | (255 & a.charCodeAt(v + 1)) << 8 | (255 & a.charCodeAt(v + 2)) << 16 | (255 & a.charCodeAt(v + 3)) << 24], p = [255 & a.charCodeAt(v + 12) | (255 & a.charCodeAt(v + 13)) << 8 | (255 & a.charCodeAt(v + 14)) << 16 | (255 & a.charCodeAt(v + 15)) << 24, 255 & a.charCodeAt(v + 8) | (255 & a.charCodeAt(v + 9)) << 8 | (255 & a.charCodeAt(v + 10)) << 16 | (255 & a.charCodeAt(v + 11)) << 24], h = t(h, f), h = n(h, 31), h = t(h, m), l = i(l, h), l = n(l, 27), l = e(l, d), l = e(t(l, [0, 5]), [0, 1390208809]), p = t(p, m), p = n(p, 33), p = t(p, f), d = i(d, p), d = n(d, 31), d = e(d, l), d = e(t(d, [0, 5]), [0, 944331445]);
                switch (h = [0, 0], p = [0, 0], u) {
                    case 15:
                        p = i(p, o([0, a.charCodeAt(v + 14)], 48));
                    case 14:
                        p = i(p, o([0, a.charCodeAt(v + 13)], 40));
                    case 13:
                        p = i(p, o([0, a.charCodeAt(v + 12)], 32));
                    case 12:
                        p = i(p, o([0, a.charCodeAt(v + 11)], 24));
                    case 11:
                        p = i(p, o([0, a.charCodeAt(v + 10)], 16));
                    case 10:
                        p = i(p, o([0, a.charCodeAt(v + 9)], 8));
                    case 9:
                        p = i(p, [0, a.charCodeAt(v + 8)]), p = t(p, m), p = n(p, 33), p = t(p, f), d = i(d, p);
                    case 8:
                        h = i(h, o([0, a.charCodeAt(v + 7)], 56));
                    case 7:
                        h = i(h, o([0, a.charCodeAt(v + 6)], 48));
                    case 6:
                        h = i(h, o([0, a.charCodeAt(v + 5)], 40));
                    case 5:
                        h = i(h, o([0, a.charCodeAt(v + 4)], 32));
                    case 4:
                        h = i(h, o([0, a.charCodeAt(v + 3)], 24));
                    case 3:
                        h = i(h, o([0, a.charCodeAt(v + 2)], 16));
                    case 2:
                        h = i(h, o([0, a.charCodeAt(v + 1)], 8));
                    case 1:
                        h = i(h, [0, a.charCodeAt(v)]), h = t(h, f), h = n(h, 31), h = t(h, m), l = i(l, h)
                }
                return l = i(l, [0, a.length]), d = i(d, [0, a.length]), l = e(l, d), d = e(d, l), l = r(l), d = r(d), l = e(l, d), d = e(d, l), ("00000000" + (l[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (l[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (d[1] >>> 0).toString(16)).slice(-8)
            },
            s = {
                preprocessor: null,
                audio: {
                    timeout: 1e3,
                    excludeIOS11: !0
                },
                fonts: {
                    swfContainerId: "fingerprintjs2",
                    swfPath: "flash/compiled/FontList.swf",
                    userDefinedFonts: [],
                    extendedJsFonts: !1
                },
                screen: {
                    detectScreenOrientation: !0
                },
                plugins: {
                    sortPluginsFor: [/palemoon/i],
                    excludeIE: !1
                },
                extraComponents: [],
                excludes: {
                    enumerateDevices: !0,
                    pixelRatio: !0,
                    doNotTrack: !0,
                    fontsFlash: !0
                },
                NOT_AVAILABLE: "not available",
                ERROR: "error",
                EXCLUDED: "excluded"
            },
            u = function (e, t) {
                if (Array.prototype.forEach && e.forEach === Array.prototype.forEach) e.forEach(t);
                else if (e.length === +e.length)
                    for (var n = 0, o = e.length; n < o; n++) t(e[n], n, e);
                else
                    for (var i in e) e.hasOwnProperty(i) && t(e[i], i, e)
            },
            c = function (e, t) {
                var n = [];
                return null == e ? n : Array.prototype.map && e.map === Array.prototype.map ? e.map(t) : (u(e, (function (e, o, i) {
                    n.push(t(e, o, i))
                })), n)
            },
            l = function () {
                return navigator.mediaDevices && navigator.mediaDevices.enumerateDevices
            },
            d = function (e) {
                var t = [window.screen.width, window.screen.height];
                return e.screen.detectScreenOrientation && t.sort().reverse(), t
            },
            h = function (e) {
                if (window.screen.availWidth && window.screen.availHeight) {
                    var t = [window.screen.availHeight, window.screen.availWidth];
                    return e.screen.detectScreenOrientation && t.sort().reverse(), t
                }
                return e.NOT_AVAILABLE
            },
            p = function (e) {
                return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : e.NOT_AVAILABLE
            },
            f = function (e) {
                return navigator.cpuClass || e.NOT_AVAILABLE
            },
            m = function (e) {
                return navigator.platform ? navigator.platform : e.NOT_AVAILABLE
            },
            v = function (e) {
                return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : e.NOT_AVAILABLE
            },
            g = function (e) {
                var t = [],
                    n = document.createElement("canvas");
                n.width = 2e3, n.height = 200, n.style.display = "inline";
                var o = n.getContext("2d");
                return o.rect(0, 0, 10, 10), o.rect(2, 2, 6, 6), t.push("canvas winding:" + (!1 === o.isPointInPath(5, 5, "evenodd") ? "yes" : "no")), o.textBaseline = "alphabetic", o.fillStyle = "#f60", o.fillRect(125, 1, 62, 20), o.fillStyle = "#069", e.dontUseFakeFontInCanvas ? o.font = "11pt Arial" : o.font = "11pt no-real-font-123", o.fillText("Cwm fjordbank glyphs vext quiz, 馃槂", 2, 15), o.fillStyle = "rgba(102, 204, 0, 0.2)", o.font = "18pt Arial", o.fillText("Cwm fjordbank glyphs vext quiz, 馃槂", 4, 45), o.globalCompositeOperation = "multiply", o.fillStyle = "rgb(255,0,255)", o.beginPath(), o.arc(50, 50, 50, 0, 2 * Math.PI, !0), o.closePath(), o.fill(), o.fillStyle = "rgb(0,255,255)", o.beginPath(), o.arc(100, 50, 50, 0, 2 * Math.PI, !0), o.closePath(), o.fill(), o.fillStyle = "rgb(255,255,0)", o.beginPath(), o.arc(75, 100, 50, 0, 2 * Math.PI, !0), o.closePath(), o.fill(), o.fillStyle = "rgb(255,0,255)", o.arc(75, 75, 75, 0, 2 * Math.PI, !0), o.arc(75, 75, 25, 0, 2 * Math.PI, !0), o.fill("evenodd"), n.toDataURL && t.push("canvas fp:" + n.toDataURL()), t
            },
            w = function () {
                var e, t = function (t) {
                    return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + t[0] + ", " + t[1] + "]"
                };
                if (!(e = C())) return null;
                var n = [],
                    o = e.createBuffer();
                e.bindBuffer(e.ARRAY_BUFFER, o);
                var i = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                e.bufferData(e.ARRAY_BUFFER, i, e.STATIC_DRAW), o.itemSize = 3, o.numItems = 3;
                var r = e.createProgram(),
                    a = e.createShader(e.VERTEX_SHADER);
                e.shaderSource(a, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"), e.compileShader(a);
                var s = e.createShader(e.FRAGMENT_SHADER);
                e.shaderSource(s, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"), e.compileShader(s), e.attachShader(r, a), e.attachShader(r, s), e.linkProgram(r), e.useProgram(r), r.vertexPosAttrib = e.getAttribLocation(r, "attrVertex"), r.offsetUniform = e.getUniformLocation(r, "uniformOffset"), e.enableVertexAttribArray(r.vertexPosArray), e.vertexAttribPointer(r.vertexPosAttrib, o.itemSize, e.FLOAT, !1, 0, 0), e.uniform2f(r.offsetUniform, 1, 1), e.drawArrays(e.TRIANGLE_STRIP, 0, o.numItems);
                try {
                    n.push(e.canvas.toDataURL())
                } catch (e) {}
                n.push("extensions:" + (e.getSupportedExtensions() || []).join(";")), n.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))), n.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))), n.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)), n.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")), n.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)), n.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)), n.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)), n.push("webgl max anisotropy:" + function (e) {
                    var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                    if (t) {
                        var n = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                        return 0 === n && (n = 2), n
                    }
                    return null
                }(e)), n.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)), n.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)), n.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)), n.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)), n.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), n.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)), n.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)), n.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)), n.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)), n.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)), n.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))), n.push("webgl red bits:" + e.getParameter(e.RED_BITS)), n.push("webgl renderer:" + e.getParameter(e.RENDERER)), n.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)), n.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)), n.push("webgl vendor:" + e.getParameter(e.VENDOR)), n.push("webgl version:" + e.getParameter(e.VERSION));
                try {
                    var c = e.getExtension("WEBGL_debug_renderer_info");
                    c && (n.push("webgl unmasked vendor:" + e.getParameter(c.UNMASKED_VENDOR_WEBGL)), n.push("webgl unmasked renderer:" + e.getParameter(c.UNMASKED_RENDERER_WEBGL)))
                } catch (e) {}
                return e.getShaderPrecisionFormat ? (u(["FLOAT", "INT"], (function (t) {
                    u(["VERTEX", "FRAGMENT"], (function (o) {
                        u(["HIGH", "MEDIUM", "LOW"], (function (i) {
                            u(["precision", "rangeMin", "rangeMax"], (function (r) {
                                var a = e.getShaderPrecisionFormat(e[o + "_SHADER"], e[i + "_" + t])[r];
                                "precision" !== r && (r = "precision " + r);
                                var s = ["webgl ", o.toLowerCase(), " shader ", i.toLowerCase(), " ", t.toLowerCase(), " ", r, ":", a].join("");
                                n.push(s)
                            }))
                        }))
                    }))
                })), n) : n
            },
            y = function () {
                var e = document.createElement("div");
                e.innerHTML = "&nbsp;", e.className = "adsbox";
                var t = !1;
                try {
                    document.body.appendChild(e), t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight, document.body.removeChild(e)
                } catch (e) {
                    t = !1
                }
                return t
            },
            b = function () {
                var e = document.createElement("canvas");
                return !(!e.getContext || !e.getContext("2d"))
            },
            k = function () {
                if (!b()) return !1;
                var e = C();
                return !!window.WebGLRenderingContext && !!e
            },
            _ = function () {
                return void 0 !== window.swfobject
            },
            A = function () {
                return window.swfobject.hasFlashPlayerVersion("9.0.0")
            },
            T = function (e, t) {
                window.___fp_swf_loaded = function (t) {
                    e(t)
                };
                var n = t.fonts.swfContainerId;
                ! function (e) {
                    var t = document.createElement("div");
                    t.setAttribute("id", e.fonts.swfContainerId), document.body.appendChild(t)
                }();
                var o = {
                    onReady: "___fp_swf_loaded"
                };
                window.swfobject.embedSWF(t.fonts.swfPath, n, "1", "1", "9.0.0", !1, o, {
                    allowScriptAccess: "always",
                    menu: "false"
                }, {})
            },
            C = function () {
                var e = document.createElement("canvas"),
                    t = null;
                try {
                    t = e.getContext("webgl") || e.getContext("experimental-webgl")
                } catch (e) {}
                return t || (t = null), t
            },
            S = [{
                key: "userAgent",
                getData: function (e) {
                    e(navigator.userAgent)
                }
            }, {
                key: "language",
                getData: function (e, t) {
                    e(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || t.NOT_AVAILABLE)
                }
            }, {
                key: "colorDepth",
                getData: function (e, t) {
                    e(window.screen.colorDepth || t.NOT_AVAILABLE)
                }
            }, {
                key: "deviceMemory",
                getData: function (e, t) {
                    e(navigator.deviceMemory || t.NOT_AVAILABLE)
                }
            }, {
                key: "pixelRatio",
                getData: function (e, t) {
                    e(window.devicePixelRatio || t.NOT_AVAILABLE)
                }
            }, {
                key: "hardwareConcurrency",
                getData: function (e, t) {
                    e(p(t))
                }
            }, {
                key: "screenResolution",
                getData: function (e, t) {
                    e(d(t))
                }
            }, {
                key: "availableScreenResolution",
                getData: function (e, t) {
                    e(h(t))
                }
            }, {
                key: "timezoneOffset",
                getData: function (e) {
                    e((new Date).getTimezoneOffset())
                }
            }, {
                key: "timezone",
                getData: function (e, t) {
                    window.Intl && window.Intl.DateTimeFormat ? e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "openDatabase",
                getData: function (e) {
                    e(!!window.openDatabase)
                }
            }, {
                key: "cpuClass",
                getData: function (e, t) {
                    e(f(t))
                }
            }, {
                key: "platform",
                getData: function (e, t) {
                    e(m(t))
                }
            }, {
                key: "doNotTrack",
                getData: function (e, t) {
                    e(v(t))
                }
            }, {
                key: "canvas",
                getData: function (e, t) {
                    b() ? e(g(t)) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "webgl",
                getData: function (e, t) {
                    k() ? e(w()) : e(t.NOT_AVAILABLE)
                }
            }, {
                key: "adBlock",
                getData: function (e) {
                    e(y())
                }
            }, {
                key: "fontsFlash",
                getData: function (e, t) {
                    return _() ? A() ? t.fonts.swfPath ? void T((function (t) {
                        e(t)
                    }), t) : e("missing options.fonts.swfPath") : e("flash not installed") : e("swf object not loaded")
                },
                pauseBefore: !0
            }, {
                key: "audio",
                getData: function (e, t) {
                    var n = t.audio;
                    if (n.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/)) return e(t.EXCLUDED);
                    var o = window.OfflineAudioContext || window.webkitOfflineAudioContext;
                    if (null == o) return e(t.NOT_AVAILABLE);
                    var i = new o(1, 44100, 44100),
                        r = i.createOscillator();
                    r.type = "triangle", r.frequency.setValueAtTime(1e4, i.currentTime);
                    var a = i.createDynamicsCompressor();
                    u([
                        ["threshold", -50],
                        ["knee", 40],
                        ["ratio", 12],
                        ["reduction", -20],
                        ["attack", 0],
                        ["release", .25]
                    ], (function (e) {
                        void 0 !== a[e[0]] && "function" == typeof a[e[0]].setValueAtTime && a[e[0]].setValueAtTime(e[1], i.currentTime)
                    })), r.connect(a), a.connect(i.destination), r.start(0), i.startRendering();
                    var s = setTimeout((function () {
                        return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "' + navigator.userAgent + '".'), i.oncomplete = function () {}, i = null, e("audioTimeout")
                    }), n.timeout);
                    i.oncomplete = function (t) {
                        var n;
                        try {
                            clearTimeout(s), n = t.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce((function (e, t) {
                                return e + Math.abs(t)
                            }), 0).toString(), r.disconnect(), a.disconnect()
                        } catch (t) {
                            return void e(t)
                        }
                        e(n)
                    }
                }
            }, {
                key: "enumerateDevices",
                getData: function (e, t) {
                    if (!l()) return e(t.NOT_AVAILABLE);
                    navigator.mediaDevices.enumerateDevices().then((function (t) {
                        e(t.map((function (e) {
                            return "id=" + e.deviceId + ";gid=" + e.groupId + ";" + e.kind + ";" + e.label
                        })))
                    })).catch((function (t) {
                        e(t)
                    }))
                }
            }],
            E = function (e) {
                throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")
            };
        return E.get = function (e, t) {
            t ? e || (e = {}) : (t = e, e = {}),
                function (e, t) {
                    if (null == t) return e;
                    var n, o;
                    for (o in t) null == (n = t[o]) || Object.prototype.hasOwnProperty.call(e, o) || (e[o] = n)
                }(e, s), e.components = e.extraComponents.concat(S);
            var n = {
                    data: [],
                    addPreprocessedComponent: function (t, o) {
                        "function" == typeof e.preprocessor && (o = e.preprocessor(t, o)), n.data.push({
                            key: t,
                            value: o
                        })
                    }
                },
                o = -1;
            ! function i(r) {
                if ((o += 1) >= e.components.length) t(n.data);
                else {
                    var a = e.components[o];
                    if (e.excludes[a.key]) i(!1);
                    else {
                        if (!r && a.pauseBefore) return o -= 1, void setTimeout((function () {
                            i(!0)
                        }), 1);
                        try {
                            a.getData((function (e) {
                                n.addPreprocessedComponent(a.key, e), i(!1)
                            }), e)
                        } catch (e) {
                            n.addPreprocessedComponent(a.key, String(e)), i(!1)
                        }
                    }
                }
            }(!1)
        }, E.getPromise = function (e) {
            return new Promise((function (t, n) {
                E.get(e, t)
            }))
        }, E.getV18 = function (e, t) {
            return null == t && (t = e, e = {}), E.get(e, (function (n) {
                for (var o = [], i = 0; i < n.length; i++) {
                    var r = n[i];
                    r.value === (e.NOT_AVAILABLE || "not available") ? o.push({
                        key: r.key,
                        value: "unknown"
                    }) : "plugins" === r.key ? o.push({
                        key: "plugins",
                        value: c(r.value, (function (e) {
                            var t = c(e[2], (function (e) {
                                return e.join ? e.join("~") : e
                            })).join(",");
                            return [e[0], e[1], t].join("::")
                        }))
                    }) : -1 !== ["canvas", "webgl"].indexOf(r.key) ? o.push({
                        key: r.key,
                        value: r.value.join("~")
                    }) : r.value ? o.push(r.value.join ? {
                        key: r.key,
                        value: r.value.join(";")
                    } : r) : o.push({
                        key: r.key,
                        value: r.value
                    })
                }
                var s = a(c(o, (function (e) {
                    return e.value
                })).join("~~~"), 31);
                t(s, o)
            }))
        }, E.x64hash128 = a, E.VERSION = "2.1.0", E
    }))
}, function (e, t) {
    e.exports = function (e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
}, function (e, t) {
    var n, o, i = e.exports = {};

    function r() {
        throw new Error("setTimeout has not been defined")
    }

    function a() {
        throw new Error("clearTimeout has not been defined")
    }

    function s(e) {
        if (n === setTimeout) return setTimeout(e, 0);
        if ((n === r || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
        try {
            return n(e, 0)
        } catch (t) {
            try {
                return n.call(null, e, 0)
            } catch (t) {
                return n.call(this, e, 0)
            }
        }
    }! function () {
        try {
            n = "function" == typeof setTimeout ? setTimeout : r
        } catch (e) {
            n = r
        }
        try {
            o = "function" == typeof clearTimeout ? clearTimeout : a
        } catch (e) {
            o = a
        }
    }();
    var u, c = [],
        l = !1,
        d = -1;

    function h() {
        l && u && (l = !1, u.length ? c = u.concat(c) : d = -1, c.length && p())
    }

    function p() {
        if (!l) {
            var e = s(h);
            l = !0;
            for (var t = c.length; t;) {
                for (u = c, c = []; ++d < t;) u && u[d].run();
                d = -1, t = c.length
            }
            u = null, l = !1,
                function (e) {
                    if (o === clearTimeout) return clearTimeout(e);
                    if ((o === a || !o) && clearTimeout) return o = clearTimeout, clearTimeout(e);
                    try {
                        o(e)
                    } catch (t) {
                        try {
                            return o.call(null, e)
                        } catch (t) {
                            return o.call(this, e)
                        }
                    }
                }(e)
        }
    }

    function f(e, t) {
        this.fun = e, this.array = t
    }

    function m() {}
    i.nextTick = function (e) {
        var t = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
        c.push(new f(e, t)), 1 !== c.length || l || s(p)
    }, f.prototype.run = function () {
        this.fun.apply(null, this.array)
    }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = m, i.addListener = m, i.once = m, i.off = m, i.removeListener = m, i.removeAllListeners = m, i.emit = m, i.prependListener = m, i.prependOnceListener = m, i.listeners = function (e) {
        return []
    }, i.binding = function (e) {
        throw new Error("process.binding is not supported")
    }, i.cwd = function () {
        return "/"
    }, i.chdir = function (e) {
        throw new Error("process.chdir is not supported")
    }, i.umask = function () {
        return 0
    }
}, function (e, t) {
    var n;
    n = function () {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}, function (e, t) {
    e.exports = function () {
        var e = document.getSelection();
        if (!e.rangeCount) return function () {};
        for (var t = document.activeElement, n = [], o = 0; o < e.rangeCount; o++) n.push(e.getRangeAt(o));
        switch (t.tagName.toUpperCase()) {
            case "INPUT":
            case "TEXTAREA":
                t.blur();
                break;
            default:
                t = null
        }
        return e.removeAllRanges(),
            function () {
                "Caret" === e.type && e.removeAllRanges(), e.rangeCount || n.forEach((function (t) {
                    e.addRange(t)
                })), t && t.focus()
            }
    }
}, function (e, t) {
    (function (t) {
        e.exports = t
    }).call(this, {})
}, function (e, t, n) {
    "use strict";
    n.r(t);
    var o = n(4),
        i = n.n(o),
        r = n(0),
        a = n.n(r),
        s = n(1),
        u = n.n(s),
        c = n(2),
        l = n.n(c),
        d = [
            ["480", "800"],
            ["480", "854"],
            ["720", "1280"],
            ["1080", "1920"],
            ["1440", "2560"],
            ["600", "1024"],
            ["800", "1280"],
            ["1200", "1920"],
            ["2048", "1536"],
            ["2560", "1600"],
            ["1280", "720"],
            ["1920", "1080"],
            ["1080", "2220"],
            ["2560", "1440"],
            ["280", "280"],
            ["320", "290"],
            ["320", "320"]
        ],
        h = window.navigator.userAgent,
        p = [{
            value: "hwry6",
            key: "H60-L11"
        }, {
            value: "hwmt",
            key: "HUAWEI NXT-AL10"
        }, {
            value: "smnote4",
            key: "SAMSUNG-SM-N9100"
        }, {
            value: "smnote4",
            key: "SAMSUNG-SM-N9108V"
        }, {
            value: "iPhone",
            key: "iPhone;"
        }, {
            value: "iPad",
            key: "iPad;"
        }],
        f = p.map((function (e) {
            return e.key
        })).join("|"),
        m = new(function () {
            function e() {
                a()(this, e), this.exportDeviceInfo()
            }
            return u()(e, [{
                key: "exportDeviceInfo",
                value: function () {
                    var e = this,
                        t = h.match(new RegExp(f));
                    p.forEach((function (n) {
                        var o = n.value;
                        t && t[0] === n.key ? e[o] = !0 : void 0 === e[o] && (e[o] = !1)
                    }))
                }
            }, {
                key: "getScreenResolution",
                value: function () {
                    var e, t = window.screen;
                    e = window.devicePixelRatio || 1, e = Math.max(2, e), t.width >= 1080 && (e = 1);
                    var n = t.width * e,
                        o = t.height * e;
                    return {
                        width: n = parseInt(n),
                        height: o = parseInt(o)
                    }
                }
            }, {
                key: "getSimilarResolution",
                value: function (e, t) {
                    var n = [];
                    return d.forEach((function (o) {
                        var i = [].concat(o),
                            r = Math.abs(o[0] - e),
                            a = Math.abs(o[1] - t);
                        i = i.concat([r, a, r + a]), n.push(i)
                    })), n.sort((function (e, t) {
                        return e[4] - t[4]
                    })), n[0]
                }
            }]), e
        }()),
        v = window.navigator.userAgent,
        g = [{
            value: "android",
            key: "Android"
        }, {
            value: "symbian",
            key: "Symbian"
        }, {
            value: "blackberry",
            key: "BlackBerry"
        }, {
            value: "webos",
            key: "hpwOS"
        }, {
            value: "wp",
            key: "Windows Phone OS"
        }, {
            value: "ffos",
            key: "Firefox OS"
        }, {
            value: "ios",
            key: "iPhone OS"
        }, {
            value: "linux",
            key: "Linux"
        }, {
            value: "windows",
            key: "Windows NT"
        }, {
            value: "mac",
            key: "Macintosh"
        }, {
            value: "ipad",
            key: "iPad; CPU OS"
        }, {
            value: "osx",
            key: "Mac OS X"
        }, {
            value: "ubuntu",
            key: "Ubuntu"
        }, {
            value: "mobile",
            key: "Mobile"
        }],
        w = "(" + g.map((function (e) {
            return e.key
        })).join("|") + ")[\\s\\/]*([\\d\\_\\.]*)",
        y = new(function () {
            function e() {
                a()(this, e), this.exportOsInfo()
            }
            return u()(e, [{
                key: "exportOsInfo",
                value: function () {
                    var e = this,
                        t = v.match(new RegExp(w, "g")) || [];
                    g.forEach((function (n) {
                        t.forEach((function (t) {
                            var o = t.match(new RegExp(w)),
                                i = n.value,
                                r = [0];
                            o && o[1] === n.key ? (r = (r = o[2] ? o[2].split(/[_\.]/) : r).map((function (e) {
                                return parseInt(e)
                            })), e[i] = !0, e[i + "Version"] = r) : void 0 === e[i] && (e[i] = !1, e[i + "Version"] = r)
                        }))
                    })), this.ipad && (this.iosVersion = this.ipadVersion), this.ios = this.ios || this.ipad, this.osx = this.osx && this.mac, this.desktop = this.windows || this.mac || this.ubuntu || this.linux && !this.android && !this.mobile && !this.wp, this.mobile = this.mobile || this.android || this.ios || this.wp || this.ffos || this.symbian || this.blackberry
                }
            }]), e
        }()),
        b = function () {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                a()(this, e);
                var n = t.match(/(\w+):\/\/([^:\/\?]*):?(\d*)([^\?]*)\??([^#$]*)#?([^#]*)/) || [];
                this.scheme = n[1] || "", this.protocol = n[1] || "", this.domain = n[2] || "", this.host = n[2] || "", this.port = n[3] || "", this.path = n[4] || "", this.queryString = n[5] || "", this.search = n[5] || "", this.hash = n[6] || ""
            }
            return u()(e, [{
                key: "getParams",
                value: function () {
                    var e = this.queryString.split("&"),
                        t = {};
                    return e.forEach((function (e) {
                        var n = e.split("=");
                        n[0] && (t[n[0]] = n[1])
                    })), t
                }
            }, {
                key: "getParamsStartWith",
                value: function (e) {
                    var t = new RegExp("^" + e),
                        n = this.getParams(),
                        o = {};
                    for (var i in n) t.test(i) && ("mw_cp_" === e || "mw_dynp_" === e ? o[i.replace(e, "")] = n[i] : o[i] = n[i]);
                    return o
                }
            }, {
                key: "getParam",
                value: function (e) {
                    return this.getParams()[e]
                }
            }, {
                key: "setParam",
                value: function (e, t) {
                    var n = this.getParams(),
                        o = [];
                    for (var i in void 0 === t ? delete n[e] : n[e] = t, n) o.push(i + "=" + n[i]);
                    return this.queryString = o.join("&"), this
                }
            }, {
                key: "setParams",
                value: function (e) {
                    var t = this.getParams(),
                        n = [];
                    for (var o in e) null === t[o] ? delete t[o] : t[o] = e[o];
                    for (var i in t) n.push(i + "=" + t[i]);
                    return this.queryString = n.join("&"), this
                }
            }, {
                key: "toString",
                value: function () {
                    var e = [];
                    return e.push(this.scheme ? this.scheme + "://" : ""), e.push(this.host), e.push(this.port ? ":" + this.port : ""), e.push(this.path), e.push(this.queryString ? "?" + this.queryString : ""), e.push(this.hash ? "#" + this.hash : ""), e.join("")
                }
            }]), e
        }(),
        k = window.navigator.userAgent,
        _ = [{
            key: "Chrome",
            value: "chrome"
        }, {
            key: "CriOS",
            value: "CriOS",
            unambiguous: !0
        }, {
            key: "AppleWebkit",
            value: "webkit"
        }, {
            key: "AppleWebKit",
            value: "webkit"
        }, {
            key: "Safari",
            value: "safari"
        }, {
            key: "Opera",
            value: "opera",
            unambiguous: !0
        }, {
            key: "Firefox",
            value: "firefox",
            unambiguous: !0
        }, {
            key: "Firefox",
            value: "firefox",
            unambiguous: !0
        }, {
            key: "FxiOS",
            value: "fxios",
            unambiguous: !0
        }, {
            key: "MQQBrowser",
            value: "qqbrowser",
            unambiguous: !0
        }, {
            key: "QQ",
            value: "qq",
            unambiguous: !0
        }, {
            key: "Qzone",
            value: "qzone",
            unambiguous: !0
        }, {
            key: "Maxthon",
            value: "maxthon",
            unambiguous: !0
        }, {
            key: "UCWEB",
            value: "ucweb",
            unambiguous: !0
        }, {
            key: "SogouMobileBrowser",
            value: "sogou",
            unambiguous: !0
        }, {
            key: "UCBrowser",
            value: "uc",
            unambiguous: !0
        }, {
            key: "SE",
            value: "se",
            unambiguous: !0
        }, {
            key: "360SE",
            value: "360se",
            unambiguous: !0
        }, {
            key: "IEMobile",
            value: "iem",
            unambiguous: !0
        }, {
            key: "MSIE",
            value: "ie",
            unambiguous: !0
        }, {
            key: "weibo",
            value: "weibo",
            unambiguous: !0
        }, {
            key: "MagicWindow",
            value: "mw",
            unambiguous: !0
        }, {
            key: "SamsungBrowser",
            value: "samsung"
        }, {
            key: "QHBrowser",
            value: "qh360",
            unambiguous: !0
        }, {
            key: "Mb2345Browser",
            value: "mb2345",
            unambiguous: !0
        }, {
            key: "TencentTraveler",
            value: "tt",
            unambiguous: !0
        }, {
            key: "MxBrowser",
            value: "mx",
            unambiguous: !0
        }, {
            key: "BAIDUBrowser",
            value: "baidu",
            unambiguous: !0
        }, {
            key: "baidubrowser",
            value: "baidu",
            unambiguous: !0
        }, {
            key: "MicroMessenger",
            value: "wx",
            unambiguous: !0
        }, {
            key: "LieBaoFast",
            value: "liebao",
            unambiguous: !0
        }, {
            key: "AlipayClient",
            value: "aliPay",
            unambiguous: !0
        }, {
            key: "Huawei",
            value: "huawei",
            unambiguous: !0
        }],
        A = "(" + _.map((function (e) {
            return e.key
        })).join("|") + ")[\\s_{3}\\/]*([\\d\\_\\.]*)",
        T = new(function () {
            function e() {
                var t = this;
                a()(this, e);
                var n = k.match(new RegExp(A, "g")) || [];
                _.forEach((function (e) {
                    n.forEach((function (n) {
                        var o, i = n.match(new RegExp(A)),
                            r = e.value;
                        i && i[1] === e.key ? (o = (o = (o = (o = i[2] || "").replace(/(^[\._\/]*|[\._\/]*$)/g, "")) ? o.split(/[_\.]/) : [0]).map((function (e) {
                            return parseInt(e)
                        })), t[r] = !0, t[r + "Version"] = o, !0 === e.unambiguous && void 0 === t.unambiguous && (t.unambiguous = !0)) : void 0 === t[r] && (t[r + "Version"] = [0])
                    }))
                }));
                var o = this.unambiguous;
                if (this.chrome = this.chrome || this.CriOS, this.chrome = this.chrome && -1 !== navigator.vendor.indexOf("Google") && window.chrome, this.chrome = this.chrome && !o, this.chrome = !!this.chrome, this.safari = this.safari && -1 !== navigator.vendor.indexOf("Apple"), this.safari = this.safari && (y.ios || y.osx), this.safari = this.safari && !this.chrome && !o, this.safari = !!this.safari, this.iosWebView = y.ios && this.webkit && !this.unambiguous && !this.safari && !this.chrome, this.androidWebView = y.android && this.webkit && !this.unambiguous && !this.chrome, this.wx && (this.qqbrowser = !1, this.qqbrowserVersion = []), this.mw) {
                    var i = this.magicWindowConfig = {},
                        r = k.match(/(MagicWindow\;).*?(?=\))/, "g");
                    if (r && r[0]) {
                        var s = r[0].replace(/MagicWindow\;/g, "");
                        (s = s.split(";")).length > 0 && s.forEach((function (e) {
                            (e = e.split("/"))[0] && e[1] && (i[e[0]] = e[1])
                        }))
                    }
                    var u = this.magicWindowConfig.sv.split(".");
                    this.mwVersion = u
                }
                this.qzone && (this.qq = !1)
            }
            return u()(e, [{
                key: "isSupportedScheme",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "auto";
                    return "auto" === t ? this.isSupportedSchemeAuto(e) : this.isSupportedSchemeClick(e)
                }
            }, {
                key: "isSupportedSchemeAuto",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return !m.smnote4 && (!this.weibo && (!((this.wx || this.qq) && !this.isSupportedYYB(e)) && !1 !== e.isSupportedScheme))
                }
            }, {
                key: "isSupportedSchemeClick",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return this.isSupportedSchemeAuto(e) || this.isSupportedSchemeOnlyClick(e), !1
                }
            }, {
                key: "isSupportedSchemeOnlyClick",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = this.qq && this.qqVersion[0] >= 6;
                    return !!(y.android && e.isSupportedSchemeClick || this.chrome || t || this.aliPay || this.baidu || this.qqbrowser)
                }
            }, {
                key: "isSupportedSchemeOnlyHref",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    if (!e.isSupportedSchemeClick) return !1;
                    if (y.ios) {
                        if (this.qq && this.qqVersion[0] >= 6) return !0
                    } else if (this.SamsungBrowser) return !0;
                    return !1
                }
            }, {
                key: "isSupportedUniversalLink",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    if (y.ios && y.iosVersion[0] >= 9 && e.iosUniversalLinkEnabled) {
                        var t = !1;
                        if (t = y.iosVersion[0] >= 10 ? this.weibo || this.wx || this.safari || this.aliPay || !this.unambiguous : this.weibo || this.wx || this.safari || this.aliPay, this.mw && this.magicWindowConfig && this.magicWindowConfig.sv) {
                            var n = this.mwVersion,
                                o = this.mw && n && (n[0] >= 4 || 3 == n[0] && n[1] > 9 || 3 == n[0] && 9 == n[1] && n[2] > 161125);
                            if (y.ios && y.iosVersion[0] >= 9 && o) return !1;
                            if (y.ios && y.iosVersion[0] >= 9 && !o) return !0
                        }
                        return !!t
                    }
                    return !1
                }
            }, {
                key: "isSupportedAppLink",
                value: function () {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return !1
                }
            }, {
                key: "isSupportedYYB",
                value: function () {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                        n = new b(t);
                    if ("dc" === n.getParam("mw_dc_order")) return !1;
                    var o = y.ios ? e.iosYyb : e.androidYyb,
                        i = y.ios && this.qzone,
                        r = this.wx && (y.iosVersion[0] >= 9 && !e.iosUniversalLinkEnabled || y.iosVersion[0] < 9) || i;
                    return o && r
                }
            }, {
                key: "isSupportedIntent",
                value: function () {
                    arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    return !1
                }
            }]), e
        }()),
        C = function () {
            var e;
            new b(document.location.href).getParam("mw_debug") && (e = console).log.apply(e, arguments)
        },
        S = {
            sha1: function (e) {
                var t, n, o, i, r, a, s, u, c, l, d = function (e, t) {
                        return e << t | e >>> 32 - t
                    },
                    h = function (e) {
                        var t, n = "";
                        for (t = 7; t >= 0; t--) n += (e >>> 4 * t & 15).toString(16);
                        return n
                    },
                    p = [],
                    f = 1732584193,
                    m = 4023233417,
                    v = 2562383102,
                    g = 271733878,
                    w = 3285377520,
                    y = [];
                for (l = (e = this.utf8_encode(e)).length, n = 0; n < l - 3; n += 4) o = e.charCodeAt(n) << 24 | e.charCodeAt(n + 1) << 16 | e.charCodeAt(n + 2) << 8 | e.charCodeAt(n + 3), y.push(o);
                switch (3 & l) {
                    case 0:
                        n = 2147483648;
                        break;
                    case 1:
                        n = e.charCodeAt(l - 1) << 24 | 8388608;
                        break;
                    case 2:
                        n = e.charCodeAt(l - 2) << 24 | e.charCodeAt(l - 1) << 16 | 32768;
                        break;
                    case 3:
                        n = e.charCodeAt(l - 3) << 24 | e.charCodeAt(l - 2) << 16 | e.charCodeAt(l - 1) << 8 | 128
                }
                for (y.push(n); 14 != (15 & y.length);) y.push(0);
                for (y.push(l >>> 29), y.push(l << 3 & 4294967295), t = 0; t < y.length; t += 16) {
                    for (n = 0; n < 16; n++) p[n] = y[t + n];
                    for (n = 16; n <= 79; n++) p[n] = d(p[n - 3] ^ p[n - 8] ^ p[n - 14] ^ p[n - 16], 1);
                    for (i = f, r = m, a = v, s = g, u = w, n = 0; n <= 19; n++) c = d(i, 5) + (r & a | ~r & s) + u + p[n] + 1518500249 & 4294967295, u = s, s = a, a = d(r, 30), r = i, i = c;
                    for (n = 20; n <= 39; n++) c = d(i, 5) + (r ^ a ^ s) + u + p[n] + 1859775393 & 4294967295, u = s, s = a, a = d(r, 30), r = i, i = c;
                    for (n = 40; n <= 59; n++) c = d(i, 5) + (r & a | r & s | a & s) + u + p[n] + 2400959708 & 4294967295, u = s, s = a, a = d(r, 30), r = i, i = c;
                    for (n = 60; n <= 79; n++) c = d(i, 5) + (r ^ a ^ s) + u + p[n] + 3395469782 & 4294967295, u = s, s = a, a = d(r, 30), r = i, i = c;
                    f = f + i & 4294967295, m = m + r & 4294967295, v = v + a & 4294967295, g = g + s & 4294967295, w = w + u & 4294967295
                }
                return (c = h(f) + h(m) + h(v) + h(g) + h(w)).toLowerCase()
            },
            utf8_encode: function (e) {
                return encodeURIComponent(e)
            }
        },
        E = function () {
            function e() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                a()(this, e), this.mlink = t
            }
            return u()(e, [{
                key: "init",
                value: function (e) {
                    this.data = e || {}, this.getCustomStyles()
                }
            }, {
                key: "getCustomStyles",
                value: function () {
                    if (this.customStyles) return this.customStyles;
                    var e, t = {},
                        n = "custom_mp_data";
                    if (this.data.custom_mp_data && "{}" !== this.data.custom_mp_data ? e = this.data.custom_mp_data : (e = this.data.custom_data, n = ""), "string" == typeof e) try {
                        e = JSON.parse(e)
                    } catch (t) {
                        e = {}
                    }
                    for (var o in n || (e.ios_json = {
                            bgUrl: e.iosBgUrl
                        }, e.android_json = {
                            bgUrl: e.androidBgUrl
                        }, e.open_app_json = {
                            bgUrl: e.link && e.link.bgUrl,
                            btnText: e.link && e.link.openText,
                            btnTextColor: e.link && e.link.textColor,
                            btnColor: e.link && e.link.btnColor,
                            btnDistanceBottom: "20%"
                        }, e.safari_down_json = {
                            bgUrl: e.link && e.link.bgUrl,
                            btnTextColor: e.link && e.link.textColor,
                            btnColor: e.link && e.link.btnColor,
                            btnDistanceBottom: "20%"
                        }, e.app_back_json = {
                            bgUrl: e.link && e.link.bgUrl
                        }), t.iosTipsImg = e.ios_json && e.ios_json.bgUrl || "", t.androidTipsImg = e.android_json && e.android_json.bgUrl || "", t.open_app_json = e.open_app_json || {}, t.safari_down_json = e.safari_down_json || {}, t.app_back_json = e.app_back_json || {}, t.count_down_json = e.count_down_json || {}, t) "iosTipsImg" !== o && "androidTipsImg" !== o && (t[o].type = n);
                    return t.ios_wechat_json = e.ios_wechat_json || e.customMiddlePageIosWechatCommonJson || !1, t.open_app_json.btnDistanceBottom && (/^[0-9]{1,2}\%$/.test(e.open_app_json.btnDistanceBottom) || (t.open_app_json.btnDistanceBottom = "20%")), this.customStyles = t, t
                }
            }, {
                key: "on",
                value: function (e, t, n) {
                    e && t && n && (t && t.constructor === Array ? t : [t]).forEach((function (t) {
                        e.addEventListener(t, n)
                    }))
                }
            }, {
                key: "off",
                value: function (e, t, n) {
                    e && t && n && (t && t.constructor === Array ? t : [t]).forEach((function (t) {
                        e.removeEventListener(t, n)
                    }))
                }
            }, {
                key: "hideAllPage",
                value: function () {
                    var t = this;
                    return new l.a.Promise((function (n) {
                        var o = document.querySelectorAll(".mw-page");
                        e.each(o, (function (e) {
                            var o, i = ["WebkitAnimationEnd", "MozAnimationEnd", "OAnimationEnd", "MsAnimationEnd", "animationEnd", "animationend"],
                                r = function r() {
                                    t.off(e, i, r), clearTimeout(o), n()
                                };
                            t.on(e, i, r), o = setTimeout(r, 320), e.classList.remove("show"), e.classList.add("hide")
                        }))
                    }))
                }
            }, {
                key: "showPage",
                value: function (e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        o = arguments.length > 3 ? arguments[3] : void 0,
                        i = o ? document.querySelector(o + " " + e) : document.querySelector(".mw-page" + e);
                    if ("custom_mp_data" === t.type && t.bg)
                        for (var r = i.querySelectorAll(".middle"), a = 0; a < r.length; a++) {
                            var s = r[a].getAttribute("style");
                            r[a].setAttribute("style", s + ";display:none !important")
                        }
                    return this.renderPage(i, t, n), this.hideAllPage().then((function () {
                        i && (i.classList.add("show"), i.classList.remove("hide"))
                    })), i
                }
            }, {
                key: "renderPage",
                value: function (e) {
                    var t = this,
                        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    e && (n.bg && this.setBg(e, n.bg), n.title && this.setTitle(e, n.title), n.text && this.setText(e, n.text), n.tipsImg && this.setTipsImg(e, n.tipsImg), n.appIcon && this.setAppIcon(e, n.appIcon, n.appLogoIsShow), (n.productName || n.appName) && this.setAppName(e, n), n.btn && (Array.isArray(n.btn) && n.btn.forEach((function (n) {
                        t.setBtn(e, n || {})
                    })), this.setBtn(e, n.btn || {})), n.btn2 && this.setBtn(e, n.btn || {}))
                }
            }, {
                key: "showDownloadTips",
                value: function (e) {
                    if (e.match(/:\/\/itunes\.apple\.com/) || e.match(/\.apk($|\?)/)) {
                        var t = this.data,
                            n = t.productName || t.appName,
                            o = t.iconUrl || t.appIcon;
                        o += "?imageMogr/v2/thumbnail/300x300";
                        var i = this.getCustomStyles().open_app_json || {},
                            r = '\n                <h3>姝ｅ湪绛夋偍瀹夎</h3>\n                <div class="app-icon"><img id="appIcon" src="'.concat(o, '" alt="" onload="this.style.display=\'block\';" onerror="this.style.display=\'none\';"/></div>\n                <p><b onclick="window.location.reload();">').concat(n, '</b></p>\n\n                <br/>\n                <a class="mw-button no-margin" onclick="window.location.reload();">鎴戝凡瀹屾垚瀹夎</a>\n                <div>濡傛灉鎮ㄥ垰鎵嶄笉灏忓績鍙栨秷浜嗗畨瑁�, 璇风偣鍑�: </div>\n                <p>\n                </p>\n                <a class="mw-button no-margin min outline" href="').concat(e, '">鍐嶆瀹夎</a>');
                        this.showPage(".mw-alert", {
                            text: r,
                            btn: {
                                color: i.btnTextColor || "",
                                backgroundColor: i.btnColor || ""
                            },
                            bg: i.bgUrl
                        })
                    }
                }
            }, {
                key: "showSchemeNotSupport",
                value: function (e) {
                    var t = this.getCustomStyles();
                    this.showPage(".scheme-notsupported", {
                        appName: this.data.productName || this.data.appName,
                        btn: {
                            innerHTML: t && t.safari_down_json && t.safari_down_json.btnText,
                            url: e
                        }
                    })
                }
            }, {
                key: "showContentPage",
                value: function (e) {
                    var t = e.productName || e.appName,
                        n = e.iconUrl || e.appIcon,
                        o = e.mwContent,
                        i = this.showPage(".custom-content", {
                            appName: t,
                            appIcon: n
                        }),
                        r = i.querySelector("h1"),
                        a = i.querySelector(".mw-cc-banner"),
                        s = a.querySelector("img"),
                        u = i.querySelector(".content"),
                        c = o.content || o.summary;
                    return r.innerHTML = o.title, a.style.backgroundImage = 'url("' + o.contentImageUri + '")', s.src = o.contentImageUri, u.innerHTML = c, o.contentImageUri || (a.style.display = "none"), i
                }
            }, {
                key: "setBg",
                value: function (e, t) {
                    t ? (e.style.backgroundImage = 'url("' + t + '")', e.classList.remove("default")) : (e.style.backgroundImage = "", e.classList.add("default"))
                }
            }, {
                key: "setTipsImg",
                value: function (e, t) {
                    var n = e.querySelector(".tips");
                    t ? (n.style.backgroundImage = 'url("' + t + '") ', e.classList.remove("default")) : (n.style.backgroundImage = "", e.classList.add("default"))
                }
            }, {
                key: "setTitle",
                value: function (e, t) {
                    var n = e.querySelector("h3");
                    n && (n.innerHTML = t)
                }
            }, {
                key: "setText",
                value: function (e, t) {
                    var n = e.querySelector(".tips");
                    n && (n.innerHTML = t)
                }
            }, {
                key: "setAppName",
                value: function (t, n) {
                    e.each(t.querySelectorAll(".app-name"), (function (e) {
                        e.innerHTML = n.productName || n.appName
                    }))
                }
            }, {
                key: "setAppIcon",
                value: function (t, n, o) {
                    n && (n += "?imageMogr/v2/thumbnail/300x300"), e.each(t.querySelectorAll(".app-icon img"), (function (e) {
                        !1 !== o ? (e.parentElement.style.backgroundImage = "none", e.setAttribute("src", n)) : e.style.visibility = "hidden"
                    }))
                }
            }, {
                key: "setBtn",
                value: function (t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        o = n;
                    e.each(t.querySelectorAll(o.btnName || ".mw-button"), (function (e) {
                        o.backgroundColor && (e.style.backgroundColor = o.backgroundColor), o.color && (e.style.color = o.color), o.btnDistanceBottom && (e.parentElement.style.bottom = o.btnDistanceBottom), n.innerHTML && (e.innerHTML = n.innerHTML), n.initAction ? n.initAction(e) : (n.url && (e.href = n.url), n.onclick && (e.onclick = n.onclick))
                    }))
                }
            }, {
                key: "hidePage",
                value: function (e) {
                    var t = document.querySelector(e);
                    t && (t.classList.remove("show"), t.classList.add("hide"))
                }
            }, {
                key: "appenStyle",
                value: function (e) {
                    var t = document.createElement("style");
                    t.textContent = e, document.getElementsByTagName("head")[0].appendChild(t)
                }
            }], [{
                key: "each",
                value: function (e, t) {
                    for (var n = 0; n < e.length; n++) t(e[n], n)
                }
            }]), e
        }(),
        P = function () {
            function e() {
                a()(this, e)
            }
            return u()(e, null, [{
                key: "getCookie",
                value: function (e) {
                    var t = new RegExp("(^|;)[ ]*" + e + "=([^;]*)").exec(document.cookie);
                    return t ? decodeURIComponent(t[2]) : null
                }
            }, {
                key: "setCookie",
                value: function (e, t, n, o, i, r) {
                    var a;
                    n && (a = new Date).setTime(a.getTime() + n), document.cookie = e + "=" + encodeURIComponent(t) + (n ? ";expires=" + a.toGMTString() : "") + ";path=" + (o || "/") + (i ? ";domain=" + i : "") + (r ? ";secure" : "")
                }
            }]), e
        }(),
        x = {
            init: 1,
            launch: 2,
            download: 3,
            yyb: 4,
            ul: 5
        },
        I = n(7);

    function L(e, t) {
        var n = "_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890+/=";
        e += "JMLINK", t = btoa(t);
        for (var o = e.length, i = t.length, r = n.length, a = 1, s = 0; s < o; s++)
            for (var u = (s + 199) * e.substring(s, s + 1).charCodeAt(); u > r;) a += u % r, u = parseInt(u / r);
        var c = [];
        for (s = 0; s < i + 6; s++) {
            var l = n.indexOf(t.substring(s, s + 1));
            c[s] || (c[s] = 0), c[s] += a * l
        }
        var d = -1;
        for (s = 0; s < c.length - 1; s++) {
            (l = c[s]) > 0 && (d = s), l >= r && (c[s + 1] += c[s] / r, c[s] = c[s] % r)
        }
        for (u = "", s = 0; s <= d; s++) u += n.substring(c[s], c[s] + 1);
        return u
    }
    var D = function (e, t) {
        var n, o, i, r, a, s = !1;
        t || (t = {}), n = t.debug || !1;
        try {
            if (o = I(), i = document.createRange(), r = document.getSelection(), (a = document.createElement("span")).textContent = e, a.style.all = "unset", a.style.position = "fixed", a.style.top = 0, a.style.clip = "rect(0, 0, 0, 0)", a.style.whiteSpace = "pre", a.style.webkitUserSelect = "text", a.style.MozUserSelect = "text", a.style.msUserSelect = "text", a.style.userSelect = "text", a.addEventListener("copy", (function (e) {
                    e.stopPropagation(), t.onCopy && (e.preventDefault(), t.onCopy(e.clipboardData))
                })), document.body.appendChild(a), function (e) {
                    var t;
                    if ("SELECT" === e.nodeName) e.focus(), t = e.value;
                    else if ("INPUT" === e.nodeName || "TEXTAREA" === e.nodeName) {
                        var n = e.hasAttribute("readonly");
                        n || e.setAttribute("readonly", ""), e.select(), e.setSelectionRange(0, e.value.length), n || e.removeAttribute("readonly"), t = e.value
                    } else {
                        e.hasAttribute("contenteditable") && e.focus();
                        var o = window.getSelection(),
                            i = document.createRange();
                        i.selectNodeContents(e), o.removeAllRanges(), o.addRange(i), t = o.toString()
                    }
                }(a), !document.execCommand("copy")) throw new Error("copy command was unsuccessful");
            s = !0
        } catch (o) {
            n && console.error("unable to copy using execCommand: ", o), n && console.warn("trying IE specific stuff");
            try {
                window.clipboardData.setData("text", e), t.onCopy && t.onCopy(window.clipboardData), s = !0
            } catch (e) {
                n && console.error("unable to copy using clipboardData: ", e)
            }
        } finally {
            r && ("function" == typeof r.removeRange ? r.removeRange(i) : r.removeAllRanges()), a && document.body.removeChild(a), o()
        }
        return s
    };
    var j = function (e, t) {
            var n = /^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,
                o = /([0-9]{1,3}(\.[0-9]{1,3}){3})/,
                i = /[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/,
                r = !1;
            if (["RTCPeerConnection", "webkitRTCPeerConnection", "mozRTCPeerConnection", "RTCIceGatherer"].forEach((function (e) {
                    r || e in window && (r = !0)
                })), !r) return C("webRTC is not supported"), void e();
            var a = !0,
                s = !0;
            ! function (e, t) {
                if ("undefined" != typeof document && "function" == typeof document.getElementById) {
                    var i = {},
                        r = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
                    if (!r) {
                        var a = document.getElementById("iframe");
                        if (!a) return;
                        var s = a.contentWindow;
                        r = s.RTCPeerConnection || s.mozRTCPeerConnection || s.webkitRTCPeerConnection
                    }
                    if (r) {
                        var u = new r({
                            iceServers: []
                        });
                        if (t && (u.addStream ? u.addStream(t) : u.addTrack && t.getTracks()[0] && u.addTrack(t.getTracks()[0], t)), u.onicecandidate = function (e) {
                                e.candidate && e.candidate.candidate ? c(e.candidate.candidate) : c()
                            }, !t) try {
                            u.createDataChannel("jmlink", {})
                        } catch (e) {}
                        u.createOffer().then((function (e) {
                            u.setLocalDescription(e).then(l)
                        }))
                    }
                }

                function c(t) {
                    if (t) {
                        var r = o.exec(t);
                        if (r) {
                            var a = r[1],
                                s = t.match(n);
                            void 0 === i[a] && e(a, s, !0), i[a] = !0
                        }
                    } else e()
                }

                function l() {
                    u.localDescription.sdp.split("\n").forEach((function (e) {
                        e && 0 === e.indexOf("a=candidate:") && c(e)
                    }))
                }
            }((function (t) {
                t ? t.match(n) ? e(t, a = !1, s) : t.match(i) ? e(t, a, s = !1) : e(t, a, s) : e()
            }), t)
        },
        R = n(3),
        U = n.n(R);

    function O(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var o = Object.getOwnPropertySymbols(e);
            t && (o = o.filter((function (t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, o)
        }
        return n
    }

    function N(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? O(n, !0).forEach((function (t) {
                i()(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : O(n).forEach((function (t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }
    var M = l.a.Promise,
        B = E,
        V = P,
        q = b,
        W = y,
        H = m,
        F = T,
        X = C,
        Y = S,
        G = D,
        K = window.navigator.userAgent,
        z = Y.sha1(K),
        Q = [],
        J = {},
        $ = {},
        Z = localStorage,
        ee = [];

    function te(e) {
        return !!e && e.constructor === Array
    }
    var ne = function () {
        function e() {
            a()(this, e);
            for (var t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
            var i = this.formatConfig(n),
                r = i.autoInit;
            this.jsonData = {}, this.config = i.config, this.isAutoRedirect = i.config.isAutoRedirect, this.autoUl = i.config.autoUl, this.render = new B(this), this.clueType = x.init, this.wakeId = function () {
                for (var e = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", t = "", n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 6; n > 0; --n) t += e[Math.floor(Math.random() * e.length)];
                return t
            }(), !1 !== r && this.init()
        }
        return u()(e, [{
            key: "setClueType",
            value: function (e) {
                e && (this.clueType = e)
            }
        }, {
            key: "subDomainCheck",
            value: function (e) {
                var t = e.jmlink,
                    n = new b(t);
                return e.jmlink = n.toString(), e.domainUrl = t, e
            }
        }, {
            key: "init",
            value: function () {
                X("jmlink init");
                var t, n = this.config;
                if (te(n)) n = te(n) ? n : [n], B.each(n, (function (n) {
                    !0 !== (void 0 !== n.autoLaunchApp ? n.autoLaunchApp : n.autoRedirect) || t ? (n.autoLaunchApp = !1, new e(n)) : (t = !0, new e(n))
                }));
                else if (!0 === this.checkConfig(n)) {
                    var o = (n = this.subDomainCheck(n)).button;
                    if (o && (o.constructor === Array || o.constructor === NodeList)) {
                        var i = [];
                        B.each(o, (function (e) {
                            e && (e.tagName && i.push(e), e.constructor === NodeList && B.each(e, (function (e) {
                                i.push(e)
                            })))
                        })), n.button = i
                    }
                    this.trackingH5(n.jmlink, !1), this.initButton(n);
                    var r = void 0 !== n.autoLaunchApp ? n.autoLaunchApp : n.autoRedirect;
                    !0 === r && ("shorturl" === e.env.model ? (X("autoLaunchApp: ", r), this.redirect(n)) : e.location(this.applyParamsToShorturl(n.domainUrl)))
                }
            }
        }, {
            key: "formatConfig",
            value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    t = {},
                    n = e.length,
                    o = [];
                return e.forEach((function (e, i) {
                    i !== n - 1 || "boolean" != typeof e ? e && e.constructor === Object ? o.push(e) : e && e.constructor === Array && (o = e) : t.autoInit = e
                })), 1 === o.length && o[0].constructor === Object && (o = o[0]), t.config = o, t
            }
        }, {
            key: "checkConfig",
            value: function (e) {
                return e.jmlink && e.button ? (e.jmlink.match(/^https?/) || (e.jmlink = window.location.origin + "/" + e.jmlink.replace(/(^[\/\s]*)/, "").replace(/[\s\/]*$/, "")), !0) : (console.log("new JMLink([{"), e.jmlink ? console.log('    "jmlink" : "' + e.jmlink + '",') : console.error('  "jmlink" : "{xxxx}", // 鐭摼KEY鏄繀瑕佸弬鏁�, 涓嶈兘涓虹┖.'), e.button ? console.log('    "button" : "a鏍囩(DOM绫诲瀷)"') : console.error('  "button" : "DOM绫诲瀷, 鎮ㄩ〉闈腑鎵撳紑App鐨勯摼鎺�." // 蹇呰鍙傛暟, 涓嶈兘涓虹┖'), console.log("}]);"), !1)
            }
        }, {
            key: "initButton",
            value: function (t, n) {
                var o = this,
                    i = t.button && "number" == typeof t.button.length ? t.button : [t.button],
                    r = n ? "number" == typeof n.length ? n : [n] : null;
                r = r && r.length > 0 ? r : i;
                for (var a, s = !!new q(t.jmlink).getParam("DO_NOT_TRACKING") || "open" === e.env.model, u = 0, c = r.length; u < c; u++) {
                    if ((a = r[u]) && "function" == typeof a.setAttribute)
                        if (!a.getAttribute("mlink-handling")) {
                            a.setAttribute("href", "javascript:void(0)");
                            a.onclick = function () {
                                X("default redirect"), o.tracking(!0), "function" == typeof t.beforeClick && t.beforeClick(), o.redirect(t, !0)
                            }
                        }
                }
                this.loadData(null, null, {
                    doNotTracking: s
                }).then((function (n) {
                    var i = o.config.jmlink;
                    n = o.mwToApp(n);
                    var a = o.getUniversalLink(n),
                        s = F.isSupportedUniversalLink(n) && a && !0 !== o.config.inapp,
                        u = W.ios ? n.iosLink : n.androidLink,
                        c = u && F.isSupportedSchemeOnlyClick(n),
                        l = s ? a : u,
                        d = o.getDownloadUrl(n);
                    if (l = o.passParamsToApp(l), s) {
                        var h = new q(l);
                        h.setParam("mw_func_ul_ru", encodeURIComponent(location.href)), l = h.toString(), o.setClueType(x.ul)
                    } else o.setClueType(x.launch);
                    var p = F.qq && F.qqVersion[0] >= 6;
                    if ("open" === e.env.model && (c || s) && !F.qq || (W.ios && W.iosVersion[0] < 9 || W.android) && p) {
                        X("open: ", l), o.sendEvent(l);
                        for (var f = function () {
                                if (o.tracking(!0), o.sendEvent(l, !0), "function" == typeof t.beforeClick && t.beforeClick(), setTimeout((function () {
                                        document.location.href = l
                                    }), 600), !(s && W.ios && W.iosVersion[0] >= 9 && p) && c) {
                                    var r = setTimeout((function () {
                                        if (F.isSupportedYYB(n, i)) o.setClueType(n.yybDownloadUrl ? x.yyb : x.download), o.openDownloadUrl(n.yybDownloadUrl || d, "yyb");
                                        else if ("open" === e.env.model && (F.wx || F.weibo)) {
                                            var t = new q(o.config.domainUrl),
                                                r = !1;
                                            !0 === o.config.resetWeixinMenu && (t.setParam("resetWeixinMenu", 1), r = r || !t.getParam("resetWeixinMenu")), !0 === o.config.preventDownload && (t.setParam("preventDownload", 1), r = r || !t.getParam("preventDownload")), r ? e.location(t.toString()) : (o.setClueType(x.download), o.openDownloadUrl(d))
                                        } else o.openDownloadUrl(d)
                                    }), 1e3);
                                    o.onAppLaunched((function () {
                                        clearTimeout(r)
                                    }))
                                }
                            }, m = 0, v = r.length; m < v; m++) {
                            var g = r[m],
                                w = g.getAttribute("mlink-handling");
                            g && "function" == typeof g.setAttribute && !w && (g.setAttribute("mlink-handling", !0), W.ios && W.iosVersion[0] < 9 && p ? (g.setAttribute("href", o.passParamsToApp(u)), g.addEventListener("click", f)) : W.ios && W.iosVersion[0] >= 9 && p && !s ? (g.setAttribute("href", o.passParamsToApp(u)), g.addEventListener("click", f)) : (g.setAttribute("href", "javascript:void(0)"), g.onclick = function () {}, g.removeEventListener("click", f), g.addEventListener("click", f)))
                        }
                    } else if (W.ios && W.iosVersion[0] >= 9 && p)
                        for (var y = 0, b = r.length; y < b; y++) {
                            var k = r[y];
                            k.setAttribute("mlink-handling", !0), k.setAttribute("href", o.passParamsToApp(u)), o.sendEvent(u), k.onclick = function () {
                                o.tracking(!0), o.setClueType(s ? x.ul : x.launch), o.sendEvent(u, !0);
                                var t = setTimeout((function () {
                                    if (F.isSupportedYYB(n, i)) o.setClueType(n.yybDownloadUrl ? x.yyb : x.download), o.openDownloadUrl(n.yybDownloadUrl || d);
                                    else if ("open" === e.env.model && (F.wx || F.weibo)) {
                                        var t = new q(o.config.domainUrl),
                                            r = !1;
                                        !0 === o.config.resetWeixinMenu && (t.setParam("resetWeixinMenu", 1), r = r || !t.getParam("resetWeixinMenu")), !0 === o.config.preventDownload && (t.setParam("preventDownload", 1), r = r || !t.getParam("preventDownload")), r ? e.location(t.toString()) : (o.setClueType(x.download), o.openDownloadUrl(d))
                                    } else o.setClueType(x.download), o.openDownloadUrl(d)
                                }), 1e3);
                                return o.onAppLaunched((function () {
                                    clearTimeout(t)
                                })), !0
                            }
                        } else "open" === e.env.model && o.sendEvent(u)
                }))
            }
        }, {
            key: "redirect",
            value: function (t, n) {
                var o = this;
                X("redirect isClick: ", n);
                var i = this.config.jmlink;
                if (W.desktop) this.showQrCode();
                else {
                    var r = !!new q(t.jmlink).getParam("DO_NOT_TRACKING") || "open" === e.env.model;
                    this.loadData(null, null, {
                        doNotTracking: r
                    }).then((function (r) {
                        if (X("load data end锛�"), "shorturl" === e.env.model && r.iconUrl) {
                            var a = document.getElementById("icon");
                            a && a.setAttribute("href", r.iconUrl + "?imageView/2/w/16/h/16/format/ico")
                        }
                        r = o.mwToApp(r), o.resetTitle(r.productName);
                        var s = new q(i),
                            u = W.android ? r.androidLink : r.iosLink,
                            c = o.getDownloadUrl(r),
                            l = o.isAppInstalled(),
                            d = o.getUniversalLink(r);
                        o.customDataView = "1" === s.getParam("mw_preview") && r.mwContent, o.applink = u, o.MW_ST = +new Date, o.MW_TQ = [], o.MW_TQ_TICKET = setInterval((function () {
                            o.MW_TQ.push(0)
                        }), 100);
                        var h = F.isSupportedUniversalLink(r) && !d;
                        if (u || !h) {
                            if (F.isSupportedUniversalLink(r) && d && !0 !== o.config.inapp) {
                                X("ul."), d = o.passParamsToApp(d);
                                var p = new q(d);
                                return p.setParam("mw_func_ul_ru", encodeURIComponent(location.href)), d = p.toString(), o.applink = d, void(n ? (X("byClick: ", n), o.setClueType(x.ul), o.sendEvent(d, n).then((function () {
                                    F.wx && "open" === e.env.model && (setTimeout((function () {
                                        window.location.reload()
                                    }), 1e3), Z && Z.setItem("mwDoNotTracking", o.config.jmlink))
                                })), o.location(d, (function () {}), 600)) : (o.setClueType(x.ul), o.sendEvent(d), o.showUniversalLinkButton(d)))
                            }
                            var f = !1;
                            F.qq && F.qqVersion[0] >= 6 && "open" !== e.env.model && (f = !0), (F.qqbrowser || F.qzone) && (f = !0);
                            var m = F.isSupportedYYB(r, i);
                            if (m && (c = r.yybDownloadUrl || c), X("isSupportedYYB: ", !f), m && !f) return X("YYB2 Event."), o.setClueType(x.yyb), void o.sendEvent(u, !0, 1).then((function () {
                                X("Redirect to YYB."), setTimeout((function () {
                                    o.location(c)
                                }), 600)
                            }));
                            if (X("click scheme"), X("byClick " + n), !n && F.isSupportedSchemeOnlyClick(r)) return X("supported scheme by click"), o.sendEvent(u, n), void o.showSchemeButton(u);
                            if (F.wx || F.qq || F.weibo || W.android && F.qzone) {
                                if (X("wx | qq | weibo."), o.sendEvent(u, n), !F.isSupportedSchemeOnlyClick(r)) {
                                    if ("open" === e.env.model) {
                                        var v = new q(o.applyParamsToShorturl(t.domainUrl));
                                        return !0 === t.resetWeixinMenu && v.setParam("resetWeixinMenu", 1), !0 === t.preventDownload && v.setParam("preventDownload", 1), void(window.location.href = v.toString())
                                    }
                                    if (X("isSupportedSchemeOnlyClick else"), n || new q(t.jmlink).getParam("DO_NOT_TRACKING") + "" == "1") {
                                        if (X("byClick else"), F.wx && (W.android || W.iosVersion[0] < 9) && F.isSupportedYYB(r, i)) return void o.sendEvent(u, !0, 1).then((function () {
                                            X("Redirect to YYB."), setTimeout((function () {
                                                o.location(c)
                                            }), 500)
                                        }));
                                        o.createOpenInBrowserModal(!0)
                                    } else {
                                        if (X("byClick else href"), new q(o.applyParamsToShorturl(t.domainUrl)).setParam("DO_NOT_TRACKING", 1), F.wx && (W.android || W.iosVersion[0] < 9) && F.isSupportedYYB(r, i)) return o.setClueType(x.yyb), void o.sendEvent(u, !0, 1).then((function () {
                                            X("Redirect to YYB."), setTimeout((function () {
                                                o.location(c)
                                            }), 500)
                                        }));
                                        o.createOpenInBrowserModal(!0)
                                    }
                                    return
                                }
                                if (X("isSupportedSchemeOnlyClick"), n) return X("byClick: ", n), void o.openScheme(u, (function () {
                                    "open" === e.env.model ? window.location.href = o.applyParamsToShorturl(t.domainUrl) : F.qq ? (o.setClueType(x.download), o.openDownloadUrl(c)) : o.createOpenInBrowserModal()
                                }), 600)
                            }
                            if (F.isSupportedScheme(r)) return X("default for scheme: " + u), o.sendEvent(u, n), void setTimeout((function () {
                                X("isAppInstalled:" + l), !0 === l ? o.openScheme(u, (function () {
                                    o.render.showSchemeNotSupport(c)
                                }), 500) : !1 === l ? (o.setClueType(x.download), o.openDownloadUrl(c, !0, u)) : o.openScheme(u, (function () {
                                    X("Redirect to Download URL.1"), o.setClueType(x.download), o.openDownloadUrl(c, !1, u)
                                }), 500)
                            }), 500);
                            X("not support scheme."), o.sendEvent(u, n), o.render.showSchemeNotSupport(c)
                        } else {
                            if (X("!scheme && noUniversalLink:" + !u + "-" + h), (!F.isSupportedSchemeOnlyClick(r) || n) && "LANDING_PAGE" === r.jumpType && r.landingPage) X("goto landing page.."), e.location(r.landingPage);
                            else {
                                X("setting error.");
                                var g = W.ios ? "iOS" : "Android",
                                    w = "寰堟姳姝夛紝" + r.productName + "鏆傛湭鎻愪緵" + g + "瀵瑰簲鐨勮烦杞湇鍔°��";
                                o.render.showPage(".setting-error", {
                                    title: w,
                                    text: " "
                                })
                            }
                        }
                    }))
                }
            }
        }, {
            key: "loadData",
            value: function (t, n) {
                var o = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                    r = 6e3,
                    a = this,
                    s = this.config,
                    u = s.timeout || r,
                    c = s.timeoutCallback || function () {
                        a.render.showPage(".server-error")
                    };
                (isNaN(+u) || +u < 0) && (u = r, console.warn("timeout  must be number and >0")), "function" != typeof c && (c = function () {
                    a.render.showPage(".server-error")
                }, console.warn("timeoutCallback must be function")), n = n || this.config.jmlink, n = this.applyParamsToShorturl(n);
                var l = this.getApiHost(n);
                if (Z && Z.getItem("mwDoNotTracking") === n && (i.doNotTracking = !0, Z.setItem("mwDoNotTracking", "")), !0 !== i.doNotTracking && delete i.doNotTracking, F.mw) {
                    var d = F.magicWindowConfig && F.magicWindowConfig.ak;
                    d && (i.inAk = d)
                }
                return $[n] && !0 !== t ? new M((function (e) {
                    e($[n])
                })) : J[n] && !0 !== t ? J[n] : (J[n] = new M((function (t, i) {
                    var r = new XMLHttpRequest,
                        a = setTimeout((function () {
                            console.warn("time out"), c(s), i()
                        }), u);
                    r.onreadystatechange = function () {
                        if (4 == r.readyState) {
                            if (200 == r.status) {
                                clearTimeout(a);
                                var s = o.parseJson(r.responseText);
                                if (s && o.render.init(s), o.jsonData = s, s.ssd) {
                                    var u = o.getShorturlKey(n);
                                    o.config.jmlink = e.env.protocol + s.ssd + "/" + u, o.config.domainUrl = o.config.jmlink, X("jmlink ssd: ", o.config.domainUrl)
                                }
                                if (!0 === o.config.preventDownload && s.ios9Link) {
                                    var c = new q(s.ios9Link);
                                    s.ios9Link = c.setParam("preventDownload", "1").toString()
                                }
                                if (o.config.sendDpEventWhenLoading) {
                                    var l = W.ios ? s.iosLink : s.androidLink,
                                        d = F.isSupportedUniversalLink(s) ? s.ios9Link : l;
                                    o.sendEvent(d)
                                }
                                $[o.config.jmlink] = s, t(s)
                            } else o.render.showPage(".server-error"), i();
                            delete J[n]
                        }
                    }, r.open("GET", l, !0), r.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), r.send(null)
                })), J[n])
            }
        }, {
            key: "sendEvent",
            value: function (t, n) {
                var o = this,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "",
                    a = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];
                X("sendEvent");
                var s = this.jsonData || {},
                    u = this.getEventUrl(null),
                    c = W.ios ? 1 : (W.android, 0),
                    l = 1 === c ? K.match(/iPhone OS ([\d_\.]*)/) : K.match(/Android ([\d_\.]*)/),
                    d = this.getShorturlKey(),
                    h = H.getScreenResolution(),
                    p = s.resX || h.width,
                    f = s.resY || h.height,
                    m = r || s.staticParams || "{}",
                    v = this.jsonData.appKey,
                    g = (new Date).getTime(),
                    w = this.jsonData.sceneRecoveryTime || 0;
                if (n && w > 0) {
                    var y = g + 60 * w * 1e3;
                    X("overTime: ", y);
                    try {
                        var b = this.passParamsToApp(t);
                        b += "&mw_ot=".concat(y), console.log("copy text:", b);
                        var k = "[".concat(L(v, b), "]");
                        G(k)
                    } catch (e) {
                        console.log(e)
                    }
                }
                return e.createLocalIP(n).then((function () {
                    return e.createFingerId()
                })).then((function (e) {
                    var s = {
                        ak: o.jsonData.appKey,
                        os: c,
                        osv: l ? (l[1] || "").replace(/_/g, ".") : "",
                        sr: [p, f].join("x"),
                        dp: a ? o.passParamsToApp(t) : t,
                        k: d,
                        yyb: i,
                        dt: JSON.parse(m),
                        dpr: window.devicePixelRatio || 1,
                        t: g,
                        localIP: ee,
                        memory: navigator.deviceMemory ? 1024 * navigator.deviceMemory : null,
                        fp: e,
                        ct: o.clueType,
                        wakeId: o.wakeId
                    };
                    return X("send event start"), X("sending event: ", s), 1 === i && o.sendEvent(t, n, 0, r, a), o.httpReport("POST", u, s)
                }))
            }
        }, {
            key: "applyParamsToShorturl",
            value: function (e, t) {
                var n = [],
                    o = this.config.plhparams || {};
                for (var i in o) n.push(i + "=" + encodeURIComponent(o[i]));
                t && (n.push("noautoredirect=true"), n.push("mw_source=" + encodeURIComponent(location.href)));
                var r = this.config.params || {};
                for (var a in r) n.push("mw_cp_" + a + "=" + encodeURIComponent(r[a]));
                var s = this.config.invtparams || {};
                for (var u in s) n.push("mw_dynp_" + u + "=" + encodeURIComponent(s[u]));
                return (n = n.sort()).length > 0 && (e += (-1 === e.indexOf("?") ? "?" : "&") + n.join("&")), e
            }
        }, {
            key: "passParamsToApp",
            value: function (t) {
                if (t && -1 == t.indexOf("mw_mk=")) {
                    var n = this.jsonData ? this.jsonData : {},
                        o = [],
                        i = new q(this.config.jmlink),
                        r = i.getParam("mw_ck"),
                        a = i.getParam("mw_dc_order"),
                        s = i.getParam("mw_dc"),
                        u = i.getParam("mw_ios_dc"),
                        c = i.getParam("mw_android_dc");
                    r && r.match(/(%\w{2})+/g) && (r = decodeURIComponent(r)), s && s.match(/(%\w{2})+/g) && (s = decodeURIComponent(s)), u && u.match(/(%\w{2})+/g) && (u = decodeURIComponent(u)), c && c.match(/(%\w{2})+/g) && (c = decodeURIComponent(c)), o.push(["mw_ck", encodeURIComponent(r || n.channel || "")].join("=")), o.push(["mw_dc", encodeURIComponent(s || "")].join("=")), o.push(["mw_dc_order", encodeURIComponent(a || "")].join("=")), o.push(["mw_ios_dc", encodeURIComponent(u || "")].join("=")), o.push(["mw_android_dc", encodeURIComponent(c || "")].join("=")), o.push(["mw_mk", encodeURIComponent(n.mLinkKey || "")].join("=")), o.push(["mw_slk", encodeURIComponent(this.getShorturlKey() || "")].join("=")), o.push(["mw_tags", encodeURIComponent(n.tags || "")].join("=")), o.push(["mw_wid", this.wakeId].join("="));
                    var l = this.config.params;
                    for (var d in l || (l = i.getParamsStartWith("mw_cp_") || {}), l) {
                        var h = "mw_cp_" + d; - 1 == t.indexOf(h) && o.push([h, encodeURIComponent(l[d])].join("="))
                    }
                    var p = new e.Uri(location.href).getParams();
                    for (var f in p) - 1 == t.indexOf(name) && o.push(f + "=" + encodeURIComponent(p[f]));
                    var m = this.config.invtparams;
                    for (var v in m || (m = i.getParamsStartWith("mw_dynp_") || {}), m) {
                        var g = "mw_dynp_" + v; - 1 == t.indexOf(g) && o.push([g, encodeURIComponent(m[v])].join("="))
                    }
                    o.push(["mw_tk", encodeURI(z)].join("=")), o.push(["mw_ak", n.appKey].join("=")), o = o.join("&"), t = (t = t + (-1 === t.indexOf("?") ? "?" : "&") + o).replace(/REQUEST_TYPE=(\w+)(&|$)/, "").replace(/&$/, "")
                }
                return t
            }
        }, {
            key: "getApiHost",
            value: function (t) {
                var n = "?" + new q(t).queryString,
                    o = e.env.protocol + e.env.ulHost + "/jmlink-share/" + e.env.av + "/open/" + this.getShorturlKey(t) + n;
                return new q(o).toString()
            }
        }, {
            key: "getUniversalLink",
            value: function (e) {
                if (e) {
                    var t = new q(e.ios9Link || e.universalLink);
                    return F.magicWindowConfig, !1 !== this.config.downloadWhenUniversalLinkFailed && (t.setParam("downloadWhenFailed", "1"), e.ios9Link = t.toString()), !0 === this.config.resetWeixinMenu && t.setParam("resetWeixinMenu", 1), t.toString()
                }
            }
        }, {
            key: "createOpenInBrowserModal",
            value: function (e) {
                var t = this,
                    n = {},
                    o = {},
                    i = W.ios ? ".openinbrowser.ios" : ".openinbrowser.android",
                    r = this.jsonData || {},
                    a = r.iconUrl,
                    s = this.render.getCustomStyles(),
                    u = W.ios ? s.iosTipsImg : s.androidTipsImg;
                W.iosVersion[0] >= 9 && F.wx && !e && (i = ".openinbrowser-ios9-wechat", s.ios_wechat_json && (u = s.ios_wechat_json.bgUrl, !1 === s.ios_wechat_json.appLogoIsShow && (a = !1), o.appLogoIsShow = s.ios_wechat_json.appLogoIsShow, !1 === s.ios_wechat_json.appNameIsShow ? o.appName = !1 : (o.appName = r.productName, s.ios_wechat_json.appNameColor && (o.appNameColor = s.ios_wechat_json.appNameColor)), n.innerHTML = s.ios_wechat_json.btnText || "绔嬪嵆涓嬭浇", n.backgroundColor = s.ios_wechat_json.btnColor || "#69f", n.color = s.ios_wechat_json.btnTextColor || "#fff"), n.onclick = function () {
                    t.sendEvent(r.iosLink, !0, 1).then((function () {
                        t.location("LANDING_PAGE" === r.jumpType ? r.landingPage : r.iosDownloadUrl)
                    }))
                });
                var c = this.render.showPage(i, N({
                    appIcon: a
                }, o, {
                    btn: N({}, n)
                }));
                c && this.render.setTipsImg(c, u)
            }
        }, {
            key: "parseJson",
            value: function (e) {
                try {
                    var t = JSON.parse(e);
                    return t = t && t || {}
                } catch (e) {
                    return ""
                }
            }
        }, {
            key: "getProtocol",
            value: function (e) {
                var t = e.match(/^(\w+):\/\//);
                if (t) return t[1]
            }
        }, {
            key: "getDownloadUrl",
            value: function (e) {
                (this.jsonData.iosDownloadUrl || this.jsonData.androidDownloadUrl) && (e = this.jsonData);
                var t, n = e.landingPage,
                    o = W.ios ? e.iosDownloadUrl : e.androidDownloadUrl,
                    i = "";
                n && (t = new q(this.config.jmlink).getParams(), i = new q(n).setParams(t).toString());
                return "LANDING_PAGE" === e.jumpType ? i : o
            }
        }, {
            key: "getEventUrl",
            value: function (t) {
                return (t || (this.jsonData ? this.jsonData.server : "") || e.env.protocol + e.env.ulHost) + "/jmlink-share/" + e.env.av + "/share/event"
            }
        }, {
            key: "getScreenResolution",
            value: function () {
                var e, t = window.screen;
                return e = W.ios ? 1 : F.wx || F.uc || !window.devicePixelRatio ? 1 : window.devicePixelRatio, [t.width * e, t.height * e].join("x")
            }
        }, {
            key: "getShorturlKey",
            value: function (e) {
                var t = e || this.config.jmlink,
                    n = new q(t).path.split("/");
                return n = n[n.length - 1]
            }
        }, {
            key: "httpReport",
            value: function (e, t, n) {
                return new M((function (o, i) {
                    var r;
                    (r = new XMLHttpRequest) && (r.open(e, t, !0), r.withCredentials = !0, r.setRequestHeader("Method", e + " " + t + " HTTP/1.1"), r.setRequestHeader("Content-type", "application/json"), "POST" == e ? r.send(JSON.stringify(n)) : r.send(), r.onreadystatechange = function () {
                        4 === parseInt(r.readyState) && (200 === parseInt(r.status) ? o() : i())
                    }), setTimeout((function () {
                        o()
                    }), 2e3)
                }))
            }
        }, {
            key: "trackingH5",
            value: function (t, n) {
                var o = e.env.protocol + e.env.trackEvent + "/jmlink-tracking/" + e.env.av + "/tracking/i";
                o += "open" == e.env.model ? "?ch=cst" : "?ch=dft";
                var i = this.getShorturlKey();
                o += "&cid=" + i, o += 1 == n ? "&action=clk" : "&action=exp";
                var r = (new Date).getTime() + Math.floor(1e13 * Math.random());
                o += "&rdm=" + r;
                var a = new Image;
                a.onerror = function () {
                    (new Image).src = o
                }, setTimeout((function () {
                    a.src = o
                }), 0)
            }
        }, {
            key: "tracking",
            value: function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                this.btnClickedCounter = this.btnClickedCounter || 0, (this.btnClickedCounter > 0 || e) && this.trackingH5(this.config.jmlink, !0), this.btnClickedCounter += 1
            }
        }, {
            key: "trackingDownload",
            value: function () {}
        }, {
            key: "getDeferredTime",
            value: function () {
                var e = (+new Date - this.MW_ST) / 1e3 - this.MW_TQ.length / 10;
                return clearInterval(this.MW_TQ_TICKET), e
            }
        }, {
            key: "openDownloadUrl",
            value: function (t, n, o) {
                var i = this;
                if (t) {
                    var r = new q(document.location.href);
                    if (!0 !== this.config.preventDownload && !r.getParam("preventDownload")) {
                        var a = this.render.getCustomStyles().count_down_json || {},
                            s = this.jsonData.iconUrl,
                            u = document.querySelector(".mw-page.scheme-redirecting");
                        u && !u.classList.contains("show") && this.render.showPage(".scheme-redirecting", {
                            bg: a.bgUrl,
                            appIcon: s,
                            appLogoIsShow: a.schemeLogoShow,
                            appName: a.schemeAppNameShow ? this.jsonData.productName : "",
                            appNameColor: a.schemeAppNameColor,
                            btn: [{
                                btnName: ".mw-open-app",
                                backgroundColor: a.schemeOpenBtnColor,
                                color: a.schemeOpenTextColor,
                                innerHTML: a.schemeOpenBtnText || "鎵撳紑app"
                            }, {
                                btnName: ".mw-open-download",
                                backgroundColor: a.schemeLoadBtnColor,
                                color: a.schemeLoadTextColor,
                                innerHTML: a.schemeLoadBtnText || "涓嬭浇app",
                                onclick: function () {
                                    i.sendEvent(o, !0).then((function () {
                                        setTimeout((function () {
                                            X("downloadURL: ", t), window.top.location.href = t
                                        }), 500)
                                    }))
                                }
                            }]
                        }), "open" === e.env.model && e.location(this.applyParamsToShorturl(this.config.domainUrl, !((9 === W.iosVersion[0] || 10 === W.iosVersion[0]) && F.safari))), t.match(/app\.qq\.com/) && F.wx && e.location(t), t.match(/:\/\/itunes\.apple\.com/) || t.match(/\.apk($|\?)/) || this.onAppLaunched((function () {
                            X("Not APK & AppStore.")
                        }))
                    }
                } else {
                    var c = W.ios ? "褰撳墠鏈嶅姟鏃犺嫻鏋滅増鏈�" : "褰撳墠鏈嶅姟鏃犲畨鍗撶増鏈�";
                    this.render.showPage(".server-error", {
                        title: c,
                        text: " "
                    })
                }
            }
        }, {
            key: "isAppInstalled",
            value: function () {
                var e = window.location.href,
                    t = new q(e),
                    n = "weixin" === t.getParam("platform"),
                    o = "1" === t.getParam("isappinstalled");
                return n ? !!o : "unknow"
            }
        }, {
            key: "isPageVisible",
            value: function () {
                return !(void 0 !== document.hidden ? document.hidden : void 0 !== document.mozHidden ? document.mozHidden : void 0 !== document.msHidden ? document.msHidden : void 0 !== document.webkitHidden ? document.webkitHidden : void 0 !== window.JSInterface && !window.JSInterface.mwAppOpened())
            }
        }, {
            key: "getParam",
            value: function (e) {
                var t = window.document.location.href.match(new RegExp("[?&]" + e + "=(\\w*)[&$]"));
                return t ? t[1] : ""
            }
        }, {
            key: "onAppLaunched",
            value: function (e) {
                var t = this;
                e = "function" == typeof e ? e : function () {}, X("onAppLaunched");
                window.addEventListener("beforeunload", (function (e) {
                    X(e.type)
                }));
                var n = !1,
                    o = function (o) {
                        if (!n) {
                            n = !0;
                            var i = o.type;
                            X("event", i), "webkitvisibilitychange" === i && t.isPageVisible() || e();
                            var r = t.getDownloadUrl(t.jsonData);
                            t.openDownloadUrl(r)
                        }
                    };
                window.addEventListener("pagehide", o), window.addEventListener("unload", o), document.addEventListener("webkitvisibilitychange", o), document.addEventListener("visibilitychange", o), document.addEventListener("qbrowserVisibilityChange", o)
            }
        }, {
            key: "openScheme",
            value: function (t, n, o) {
                if (X(W.ios + ";" + W.ipad + W.iosVersion[0]), this.isAutoRedirect) return this.isAutoRedirect = !this.isAutoRedirect, n();
                if ("open" === e.env.model && (9 === W.iosVersion[0] || 10 === W.iosVersion[0]) && F.safari) return n();
                var i = n,
                    r = F.mw && F.mwVersion,
                    a = !1;
                r && (r[0] >= 4 || 3 == r[0] && r[1] > 9 || 3 == r[0] && 9 == r[1] && r[2] > 161125) && (a = !0), W.ios && W.iosVersion[0] >= 9 && a ? (X("Scheme with magicwindow."), this.openAppWithMagicwindow(t, i, o)) : W.ios && W.iosVersion[0] >= 9 && !a ? (X("Scheme with location."), this.location(t, i, o)) : F.huawei && !F.chrome ? (X("Scheme with iframe."), this.openAppWithIframe(t, i, o)) : W.android && F.chrome ? (X("Scheme with location."), this.location(t, i, o)) : W.ios && F.chrome ? (X("Scheme with window.open."), this.openAppWithWindowOpen(t, i, o)) : this.location(t, i, o)
            }
        }, {
            key: "openAppWithWindowOpen",
            value: function (e, t, n) {
                var o;
                e = this.passParamsToApp(e);
                try {
                    o = window.open(e)
                } catch (e) {}
                o ? window.close() : t()
            }
        }, {
            key: "openAppWithMagicwindow",
            value: function (e, t, n) {
                var o = this,
                    i = setTimeout(t, n || 500);
                e = this.passParamsToApp(e), window.MW_APP_OPEND_CALLBACK_FN = function (e) {
                    if (X("MW_APP_OPEND_CALLBACK_FN:" + e), +e) {
                        var t = o.getDownloadUrl(o.jsonData);
                        o.openDownloadUrl(t), clearTimeout(i)
                    }
                }, webkit && webkit.messageHandlers && webkit.messageHandlers.MagicWindow && webkit.messageHandlers.MagicWindow.postMessage({
                    method: "mwOpenUrl",
                    data: JSON.stringify({
                        urlScheme: e,
                        callback: "MW_APP_OPEND_CALLBACK_FN"
                    })
                })
            }
        }, {
            key: "location",
            value: function (t, n, o) {
                t = this.passParamsToApp(t), e.location(t);
                var i = setTimeout(n, o || 500);
                this.onAppLaunched((function () {
                    clearTimeout(i)
                }))
            }
        }, {
            key: "showSchemeButton",
            value: function (e) {
                this.showRedirectButton(e, 0)
            }
        }, {
            key: "showUniversalLinkButton",
            value: function (e) {
                this.showRedirectButton(e, 1)
            }
        }, {
            key: "showRedirectButton",
            value: function (e) {
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                    n = t || this.config.button,
                    o = $[this.config.jmlink] || {},
                    i = o.productName || o.appName,
                    r = o.iconUrl || o.appIcon,
                    a = this.render.getCustomStyles(),
                    s = a.open_app_json;
                n && (n.constructor !== Array && (n = [n]), this.initButton(this.config, n)), null === t && this.render.showPage(".redirect-with-button", {
                    appIcon: r,
                    appName: i,
                    type: s.type,
                    bg: s.bgUrl,
                    btn: {
                        innerHTML: s.btnText || "鎵撳紑App",
                        color: s.btnTextColor || "",
                        backgroundColor: s.btnColor || "",
                        btnDistanceBottom: s.btnDistanceBottom || "20%",
                        href: F.aliPay && e
                    }
                })
            }
        }, {
            key: "resetTitle",
            value: function (t) {
                "shorturl" === e.env.model && (this.originTitle = this.originTitle || document.title, document.title = t || this.originTitle)
            }
        }, {
            key: "showQrCode",
            value: function () {
                var t = this,
                    n = "//" + e.env.ulHost + "/jmlink-share/" + e.env.av + "/gr/gen" + ("?margin=0&width=150&content=" + encodeURIComponent(this.config.jmlink));
                setTimeout((function () {
                    t.render && t.render.showPage(".mw-alert", {
                        title: "璇锋壂鎻忎簩缁寸爜鍦ㄧЩ鍔ㄨ澶囦笂璁块棶",
                        text: '<img class="qrcode-img" src="'.concat(n, '">')
                    })
                }), 30)
            }
        }, {
            key: "openAppWithIframe",
            value: function (e, t, n) {
                e = this.passParamsToApp(e);
                var o = document.createElement("iframe");
                o.style.width = "0px", o.style.height = "0px", o.style.overflow = "hidden", o.id = "mlinkIframeLauncher", o.src = e, document.body.appendChild(o);
                var i = setTimeout(t, n || 500);
                this.onAppLaunched((function () {
                    clearTimeout(i)
                }))
            }
        }, {
            key: "mwToApp",
            value: function (e) {
                if (!F.mw) return e;
                var t = {
                    mw_mlink_k: "webview"
                };
                t.mw_mlink_appid = F.magicWindowConfig && F.magicWindowConfig.ak, t.mw_aba_appName = e.inProductName, t.mw_mlink_cb = e.inScheme;
                var n = e.ios9Link && new q(e.ios9Link),
                    o = e.iosLink && new q(e.iosLink);
                for (var i in t) t[i] && (n && n.setParam(i, t[i]), o && o.setParam(i, t[i]));
                return e.ios9Link = n ? n.toString() : "", e.iosLink = o && o.toString(), e
            }
        }], [{
            key: "location",
            value: function (e) {
                e && (document.location.href = e)
            }
        }, {
            key: "isIosLE9",
            value: function () {
                return W.ios && W.iosVersion[0] >= 9
            }
        }, {
            key: "loadScript",
            value: function () {
                for (var e = [], t = document.querySelector("head"), n = arguments.length, o = new Array(n), i = 0; i < n; i++) o[i] = arguments[i];
                return o.forEach((function (n) {
                    var o = document.createElement("script"),
                        i = new M((function (e, n) {
                            o.onload = function () {
                                e(), t.removeChild(o)
                            }, o.onerror = function () {
                                n(), t.removeChild(o)
                            }
                        }));
                    o.src = n, t.appendChild(o), e.push(i)
                })), M.all(e)
            }
        }, {
            key: "ready",
            value: function (e) {
                var t = document.readyState;
                "interactive" === t || "complete" === t ? e() : (Q.push(e), document.addEventListener("readystatechange", (function () {
                    var e;
                    if ("interactive" === (t = document.readyState) || "complete" === t)
                        for (; Q.length > 0;) "function" == typeof (e = Q.shift()) && e()
                })))
            }
        }, {
            key: "createLocalIP",
            value: function (e) {
                return new M((function (t, n) {
                    if (e) try {
                        j((function (e, n, o) {
                            e && !n && o && (X("ip: ", e), ee.includes(e) || ee.push(e)), t(ee)
                        }))
                    } catch (e) {
                        t(ee)
                    } else t(ee)
                }))
            }
        }, {
            key: "createFingerId",
            value: function () {
                return new M((function (e, t) {
                    var n = "mw_fingerId",
                        o = window.localStorage.getItem(n) || "";
                    o ? e(o) : U.a.get((function (i) {
                        var r = i.map((function (e) {
                            return e.value
                        }));
                        (o = U.a.x64hash128(r.join(""), 31)) ? (window.localStorage.setItem(n, o), e(o)) : t(o)
                    }))
                }))
            }
        }, {
            key: "scanLink",
            value: function () {
                var t = 1;
                e.ready((function () {
                    setInterval((function () {
                        var n = document.querySelectorAll("a");
                        B.each(n, (function (n) {
                            var o = n.getAttribute("href"),
                                i = !!n.getAttribute("data-mlink-scan"),
                                r = !(!n.getAttribute("data-auto") && !n.getAttribute("auto")),
                                a = n.getAttribute("data-params") || n.getAttribute("params");
                            o && (o = new q(o)), !i && o && o.host && (a = new Function("return " + a)(), n.setAttribute("data-mlink-scan", t), t += 1, console.log("scanlink: ", t), new e({
                                jmlink: o.toString(),
                                button: n,
                                autoLaunchApp: r,
                                plhparams: a
                            }))
                        }))
                    }), 1e3)
                }))
            }
        }]), e
    }();
    ne.Cookie = V, ne.os = W, ne.Uri = q, ne.browser = F, ne.debug = X, ne.device = H, ne.Render = B, ne.Version = "1.1.0", ne.env = {
        prefix: "jmlk.co",
        ulHost: "share-jmlink.jpush.cn",
        env: "prod",
        model: "open",
        av: "v1",
        trackEvent: "tracking-jmlink.jpush.cn",
        protocol: "https://"
    }, window.JMLink = ne;
    t.default = ne
}]);